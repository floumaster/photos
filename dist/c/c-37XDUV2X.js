import{g as v,h as g}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-H6WUPWS5.js";import{b as u}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-ZFF345DA.js";import{c as f,d as P}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-MJAH2RAZ.js";import{C as p,E as c}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-OM2EU7QX.js";import{a as b}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RQHQGLHW.js";import{d as V,f as r}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-QHP3NFJY.js";g();var t=V(b());P();c();var m=class extends f{constructor(){super(...arguments);r(this,"player");r(this,"isStarted");r(this,"isReady",!1);r(this,"widget");r(this,"pageScale")}};function C({analytics:n,sharedState:i}){let s=(0,t.useRef)(),{ref:y,inView:E}=u(),o=(0,t.useCallback)(e=>{e instanceof CustomEvent&&n?.sendEvent("video_start",e.detail)},[n]),a=(0,t.useCallback)(e=>{e instanceof CustomEvent&&n?.sendEvent("video_complete",e.detail)},[n]),d=(0,t.useCallback)(()=>{i.isReady=!0},[i]);(0,t.useEffect)(()=>{let e=s.current?.events;return e&&e.addEventListener("start",o),e&&e.addEventListener("stop",a),e&&e.addEventListener("ready",d),()=>{e&&e.removeEventListener("start",o),e&&e.removeEventListener("stop",a),e&&e.removeEventListener("ready",d)}},[a,o,d]),(0,t.useEffect)(()=>{i.player=s.current});let l=i.useSnapshot();return p(v,{ref:y,widget:l.widget,isTabVisible:l.isStarted,isVisible:E,useLqip:!1,playerRef:s,pageScale:l.pageScale})}export{m as a,C as b};
