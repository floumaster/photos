import{g as u,h as V}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-JF6NUUTT.js";import{c as v,d as E}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-CRTDZU4B.js";import{C as p,E as c}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-B5SOAUQH.js";import{a as m}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-R5L6UBQG.js";import{d as f,f as s}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-2LNZKOQK.js";V();var t=f(m());E();c();var y=class extends v{constructor(){super(...arguments);s(this,"player");s(this,"isStarted");s(this,"isReady",!1);s(this,"widget")}};function w({analytics:r,sharedState:n}){let i=(0,t.useRef)(),o=(0,t.useCallback)(e=>{e instanceof CustomEvent&&r?.sendEvent("video_start",e.detail)},[r]),a=(0,t.useCallback)(e=>{e instanceof CustomEvent&&r?.sendEvent("video_complete",e.detail)},[r]),d=(0,t.useCallback)(()=>{n.isReady=!0},[n]);(0,t.useEffect)(()=>{let e=i.current?.events;return e&&e.addEventListener("start",o),e&&e.addEventListener("stop",a),e&&e.addEventListener("ready",d),()=>{e&&e.removeEventListener("start",o),e&&e.removeEventListener("stop",a),e&&e.removeEventListener("ready",d)}},[a,o,d]),(0,t.useEffect)(()=>{n.player=i.current});let l=n.useSnapshot();return p(u,{widget:l.widget,isTabVisible:l.isStarted,isVisible:!0,useLqip:!1,playerRef:i})}export{y as a,w as b};
