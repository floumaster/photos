import{a as m}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-37XDUV2X.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-H6WUPWS5.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XCS4VYNL.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-25E2ZWGC.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-OPPNZN3L.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-EA6NQKZH.js";import{a as i,b as f}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WO7XZULW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-CO3BL4TS.js";import{a as p,b as S}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-7ZGGP2E5.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-4UKCF2GB.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-L7WWO6M6.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-JBAUS64S.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-FWXUQJLO.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-2XET6VO7.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-5IBIYDPK.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-BKCY2VKA.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3YUZTX2N.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-W4T5AHCB.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-ZFF345DA.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-IZR32LLC.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-X4VPDOCU.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RP4BFHXR.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-ZKNFSN7H.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3NPNCLFW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-MJAH2RAZ.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WRLLBKGK.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-FFWDLTMD.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-4Y7DI6SQ.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XGVPUU7T.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RAXBYKBX.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-4MPLDZWV.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-7I7OLWOL.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WVJIV5QC.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-EYCFSEYW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-2MNI46CX.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XVMSE7D6.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3GVO5LHG.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-MAHC2LGO.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-2VM4WMDG.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-GGNH5IU6.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RDXJA4GA.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-N5BFY7TV.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-4XXBP4ZF.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-NNQF6BRP.js";import{c as h,d as g}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-ESZBX7KW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-BSALHGTM.js";import{a as c}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-234U5CBJ.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WKJZFQ5R.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-UKEV2NXO.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-JIZBLOSS.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-HRLBPHLY.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-2ECMWVPA.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-7X5IMZFD.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-G2NIBBXQ.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-CKAFNI2U.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WMCMTIVL.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-H4ZSG3VH.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-HWQWJZMW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-EEMRR3F6.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RED2IW26.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-HBHH3JOR.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XYBU5ZH7.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-PQ3IAYNH.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-BDIKTVS7.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-A73AYJN4.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-E6LIND4G.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-EOUZMBYY.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-C2JH626I.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XJMDX53R.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-H5KNJBLH.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-A6ELDBP5.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-GQGWMU4W.js";import{a as b}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-NDMKEPX2.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-KYWOHWQE.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-5A7ZX2DV.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-4BVKFQ7G.js";import{C as n,E as l}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-OM2EU7QX.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RQHQGLHW.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RAPBUJGJ.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RWHY6I2B.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-XISRCAED.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-7E6CHA26.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-6ZBEBUM2.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-AU5RUMUL.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-65MPED7X.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-B7IF4UMF.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-2DOLZMQC.js";import"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RFIBFC7T.js";import{d,f as r}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-QHP3NFJY.js";f();S();var u=d(b()),y=d(c());g();l();var o=class extends i{constructor(e,s,a){super(e,s,a);r(this,"sharedState",new m);r(this,"autoplay");r(this,"unsubscribeReady");r(this,"player",{play:function(){this.sharedState.player.play()}.bind(this),pause:function(){this.sharedState.player.stop()}.bind(this)});return this.model=new y.default.Model(e),this.sharedState.widget=this.model.attributes,i.prototype.initialize.apply(this,[e,s,a]),this}async render(){(this.model.attributes.provider_name||"").toLowerCase()==="vimeo"&&p.brokenVimeoThumbnailRegexp.test(this.model.get("thumbnail_url"))&&this.model.unset("thumbnail_url"),this.makeBox("video"),this.$el.addClass("no-transparency");let{renderReact:e}=await import("https://st-p.rmcdn.net/aab27dd3/dist/c/c-YNIFIEKA.js"),{VideoPlayerViewerOld:s}=await import("https://st-p.rmcdn.net/aab27dd3/dist/c/c-3XXY4FKQ.js");return e({component:()=>n(s,{sharedState:this.sharedState,analytics:window.RM.analytics}),domElement:this.el,model:this.model,onDestroy:()=>{let t=this.el;u.default.unmountComponentAtNode(t),t&&t.parentNode&&t.parentNode.removeChild(t)}}),this.unsubscribeReady=this.sharedState.subscribe("isReady",t=>{t&&(this.widgetIsLoaded(),this.unsubscribeReady?.())}),this.checkLink(),this.rendered=!0,this.trigger("rendered"),this}isValid(){return!!(this.model.attributes.url&&this.model.attributes.provider_name)}start(){return i.prototype.start.call(this),window.RM.screenshot||this.destroyed?this:(this.sharedState.isStarted=!0,this)}stop(){return i.prototype.stop.call(this),!window.RM.screenshot&&!this.destroyed&&this.sharedState.player&&this.rendered&&this.sharedState.player.stop(),this}_needAutoStart(){return this.autoplay&&!h.PageVisibilityManager.isPageHidden()}getPageScale(){return this.page.mag.getScale(this.page.viewport)}destroy(...e){this.sharedState.player?.stop(),this.unsubscribeReady?.(),i.prototype.destroy.apply(this,e)}updateVideoWidget(e){this.sharedState.widget=e,this.sharedState.pageScale=this.getPageScale()}},k=o;export{k as default};
