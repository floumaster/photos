import{a as We,b as xt,c as Ge,d as bt,e as Ke,f as vt,g as He,h as wt,i as _e,j as kt,k as Me,l as At}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3JQ5AQM5.js";import{f as ze,t as Be,w as gt}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3GVO5LHG.js";import{a as fe,b as Ue}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-3IDUYJ7B.js";import{a as G,b as yt}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-WK25KKWY.js";import{a as X,k as ke}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-UKEV2NXO.js";import{b as se,c as Ne}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-7MCOANFY.js";import{a as we,d as pt}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-JIZBLOSS.js";import{B as De,C as O,D as M,E as J,f as b,g as mt}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-OM2EU7QX.js";import{a as qe}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-RQHQGLHW.js";import{b as ht}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-B7IF4UMF.js";import{a as ae,d as $e}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-QHP3NFJY.js";function St(t,e){return e===void 0&&(e=!0),r=>(m.arr(r)?r:Object.keys(r)).reduce((i,n)=>{let o=e?n[0].toLowerCase()+n.substring(1):n;return i[o]=t(o),i},t)}function tt(){let t=(0,P.useState)(!1),e=t[1];return(0,P.useCallback)(()=>e(i=>!i),[])}function Q(t,e){return m.und(t)||m.nul(t)?e:t}function ee(t){return m.und(t)?[]:m.arr(t)?t:[t]}function K(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return m.fun(t)?t(...r):t}function Vt(t){let e=t.to,r=t.from,i=t.config,n=t.onStart,o=t.onRest,c=t.onFrame,s=t.children,f=t.reset,a=t.reverse,l=t.force,d=t.immediate,p=t.delay,I=t.attach,k=t.destroyed,E=t.interpolateTo,D=t.ref,A=t.lazy;return G(t,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}function Ae(t){let e=Vt(t);if(m.und(e))return b({to:e},t);let r=Object.keys(t).reduce((i,n)=>m.und(e[n])?b({},i,{[n]:t[n]}):i,{});return b({to:e},r)}function Ct(t,e){return e&&(m.fun(e)?e(t):m.obj(e)&&(e.current=t)),t}function Et(t,e){Re={fn:t,transform:e}}function Pt(t){rt=t}function It(t){he=t}function Tt(t){Ft=t}function Rt(t){it=t}function ge(t,e,r){if(typeof t=="function")return t;if(Array.isArray(t))return ge({range:t,output:e,extrapolate:r});if(he&&typeof t.output[0]=="string")return he(t);let i=t,n=i.output,o=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",s=i.extrapolateRight||i.extrapolate||"extend",f=i.easing||(a=>a);return a=>{let l=zt(a,o);return Dt(a,o[l],o[l+1],n[l],n[l+1],f,c,s,i.map)}}function Dt(t,e,r,i,n,o,c,s,f){let a=f?f(t):t;if(a<e){if(c==="identity")return a;c==="clamp"&&(a=e)}if(a>r){if(s==="identity")return a;s==="clamp"&&(a=r)}return i===n?i:e===r?t<=e?i:n:(e===-1/0?a=-a:r===1/0?a=a-e:a=(a-e)/(r-e),a=o(a),i===-1/0?a=-a:n===1/0?a=a+i:a=a*(n-i)+i,a)}function zt(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}function at(t,e){"update"in t?e.add(t):t.getChildren().forEach(r=>at(r,e))}function je(t,e,r){let i=b({items:t,keys:e||(g=>g)},r),n=Te(i),o=n.lazy,c=o===void 0?!1:o,s=n.unique,f=n.reset,a=f===void 0?!1:f,l=n.enter,d=n.leave,p=n.update,I=n.onDestroyed,k=n.keys,E=n.items,D=n.onFrame,A=n.onRest,v=n.onStart,x=n.ref,z=G(n,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),W=tt(),R=(0,P.useRef)(!1),h=(0,P.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!i.ref,instances:!R.current&&new Map,forceUpdate:W});return(0,P.useImperativeHandle)(i.ref,()=>({start:()=>Promise.all(Array.from(h.current.instances).map(g=>{let S=g[1];return new Promise(F=>S.start(F))})),stop:g=>Array.from(h.current.instances).forEach(S=>S[1].stop(g)),get controllers(){return Array.from(h.current.instances).map(g=>g[1])}})),h.current=Wt(h.current,i),h.current.changed&&h.current.transitions.forEach(g=>{let S=g.slot,F=g.from,V=g.to,$=g.config,U=g.trail,j=g.key,L=g.item;h.current.instances.has(j)||h.current.instances.set(j,new Fe);let u=h.current.instances.get(j),y=b({},z,{to:V,from:F,config:$,ref:x,onRest:C=>{h.current.mounted&&(g.destroyed&&(!x&&!c&&Qe(h,j),I&&I(L)),!Array.from(h.current.instances).some(_=>!_[1].idle)&&(x||c)&&h.current.deleted.length>0&&Qe(h),A&&A(L,S,C))},onStart:v&&(()=>v(L,S)),onFrame:D&&(C=>D(L,S,C)),delay:U,reset:a&&S===ue});u.update(y),h.current.paused||u.start()}),(0,P.useEffect)(()=>(h.current.mounted=R.current=!0,()=>{h.current.mounted=R.current=!1,Array.from(h.current.instances).map(g=>g[1].destroy()),h.current.instances.clear()}),[]),h.current.transitions.map(g=>{let S=g.item,F=g.slot,V=g.key;return{item:S,key:V,state:F,props:h.current.instances.get(V).getValues()}})}function Qe(t,e){let r=t.current.deleted;for(let i of r){let n=i.key,o=c=>c.key!==n;(m.und(e)||e===n)&&(t.current.instances.delete(n),t.current.transitions=t.current.transitions.filter(o),t.current.deleted=t.current.deleted.filter(o))}t.current.forceUpdate()}function Wt(t,e){let r=t.first,i=t.prevProps,n=G(t,["first","prevProps"]),o=Te(e),c=o.items,s=o.keys,f=o.initial,a=o.from,l=o.enter,d=o.leave,p=o.update,I=o.trail,k=I===void 0?0:I,E=o.unique,D=o.config,A=o.order,v=A===void 0?[ue,Se,Ve]:A,x=Te(i),z=x.keys,W=x.items,R=b({},n.current),h=[...n.deleted],g=Object.keys(R),S=new Set(g),F=new Set(s),V=s.filter(u=>!S.has(u)),$=n.transitions.filter(u=>!u.destroyed&&!F.has(u.originalKey)).map(u=>u.originalKey),U=s.filter(u=>S.has(u)),j=-k;for(;v.length;)switch(v.shift()){case ue:{V.forEach((y,C)=>{E&&h.find(w=>w.originalKey===y)&&(h=h.filter(w=>w.originalKey!==y));let q=s.indexOf(y),T=c[q],_=r&&f!==void 0?"initial":ue;R[y]={slot:_,originalKey:y,key:E?String(y):Nt++,item:T,trail:j=j+k,config:K(D,T,_),from:K(r&&f!==void 0?f||{}:a,T),to:K(l,T)}});break}case Se:{$.forEach(y=>{let C=z.indexOf(y),q=W[C],T=Se;h.unshift(b({},R[y],{slot:T,destroyed:!0,left:z[Math.max(0,C-1)],right:z[Math.min(z.length,C+1)],trail:j=j+k,config:K(D,q,T),to:K(d,q)})),delete R[y]});break}case Ve:{U.forEach(y=>{let C=s.indexOf(y),q=c[C],T=Ve;R[y]=b({},R[y],{item:q,slot:T,trail:j=j+k,config:K(D,q,T),to:K(p,q)})});break}}let L=s.map(u=>R[u]);return h.forEach(u=>{let y=u.left,C=u.right,q=G(u,["left","right"]),T;(T=L.findIndex(_=>_.originalKey===y))!==-1&&(T+=1),T=Math.max(0,T),L=[...L.slice(0,T),q,...L.slice(T)]}),b({},n,{changed:V.length||$.length||U.length,first:r&&V.length===0,transitions:L,current:R,deleted:h,prevProps:e})}function be(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}function Xt(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Zt.exec(t))?parseInt(e[1]+"ff",16)>>>0:ye.hasOwnProperty(t)?ye[t]:(e=Gt.exec(t))?(Y(e[1])<<24|Y(e[2])<<16|Y(e[3])<<8|255)>>>0:(e=Kt.exec(t))?(Y(e[1])<<24|Y(e[2])<<16|Y(e[3])<<8|Xe(e[4]))>>>0:(e=Mt.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Jt.exec(t))?parseInt(e[1],16)>>>0:(e=Qt.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Ht.exec(t))?(Ze(Je(e[1]),le(e[2]),le(e[3]))|255)>>>0:(e=_t.exec(t))?(Ze(Je(e[1]),le(e[2]),le(e[3]))|Xe(e[4]))>>>0:null}function Ce(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ze(t,e,r){let i=r<.5?r*(1+e):r+e-r*e,n=2*r-i,o=Ce(n,i,t+1/3),c=Ce(n,i,t),s=Ce(n,i,t-1/3);return Math.round(o*255)<<24|Math.round(c*255)<<16|Math.round(s*255)<<8}function Y(t){let e=parseInt(t,10);return e<0?0:e>255?255:e}function Je(t){return(parseFloat(t)%360+360)%360/360}function Xe(t){let e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function le(t){let e=parseFloat(t);return e<0?0:e>100?1:e/100}function Ye(t){let e=Xt(t);if(e===null)return t;e=e||0;let r=(e&4278190080)>>>24,i=(e&16711680)>>>16,n=(e&65280)>>>8,o=(e&255)/255;return`rgba(${r}, ${i}, ${n}, ${o})`}function ir(t,e,r){return e==null||typeof e=="boolean"||e===""?"":!r&&typeof e=="number"&&e!==0&&!(re.hasOwnProperty(t)&&re[t])?e+"px":(""+e).trim()}var P,m,N,ne,de,Re,rt,Ee,he,nt,Ft,Lt,it,me,Pe,jt,Ot,te,Z,ot,$t,qt,pe,ie,Ie,Bt,Fe,Nt,ue,Se,Ve,Ut,Te,Le,ye,H,xe,Gt,Kt,Ht,_t,Mt,Qt,Zt,Jt,ce,Yt,er,tr,re,rr,nr,et,or,ar,ve,st=ae(()=>{"use strict";mt();yt();P=$e(qe()),m={arr:Array.isArray,obj:t=>Object.prototype.toString.call(t)==="[object Object]",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0,nul:t=>t===null,set:t=>t instanceof Set,map:t=>t instanceof Map,equ(t,e){if(typeof t!=typeof e)return!1;if(m.str(t)||m.num(t))return t===e;if(m.obj(t)&&m.obj(e)&&Object.keys(t).length+Object.keys(e).length===0)return!0;let r;for(r in t)if(!(r in e))return!1;for(r in e)if(t[r]!==e[r])return!1;return m.und(r)?t===e:!0}};N=class{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){this.children.length===0&&this.attach(),this.children.push(e)}removeChild(e){let r=this.children.indexOf(e);this.children.splice(r,1),this.children.length===0&&this.detach()}},ne=class extends N{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof N&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof N&&e.removeChild(this))}},de=class extends N{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof N&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof N&&e.removeChild(this))}getValue(e){e===void 0&&(e=!1);let r={};for(let i in this.payload){let n=this.payload[i];e&&!(n instanceof N)||(r[i]=n instanceof N?n[e?"getAnimatedValue":"getValue"]():n)}return r}getAnimatedValue(){return this.getValue(!0)}};Ee=t=>typeof window<"u"?window.requestAnimationFrame(t):-1;nt=()=>Date.now();Lt=t=>t.current;Pe=class extends de{constructor(e,r){super(),this.update=void 0,this.payload=e.style?b({},e,{style:it(e.style)}):e,this.update=r,this.attach()}},jt=t=>m.fun(t)&&!(t.prototype instanceof P.default.Component),Ot=t=>(0,P.forwardRef)((r,i)=>{let n=tt(),o=(0,P.useRef)(!0),c=(0,P.useRef)(null),s=(0,P.useRef)(null),f=(0,P.useCallback)(k=>{let E=c.current,D=()=>{let A=!1;s.current&&(A=Re.fn(s.current,c.current.getAnimatedValue())),(!s.current||A===!1)&&n()};c.current=new Pe(k,D),E&&E.detach()},[]);(0,P.useEffect)(()=>()=>{o.current=!1,c.current&&c.current.detach()},[]),(0,P.useImperativeHandle)(i,()=>Lt(s,o,n)),f(r);let a=c.current.getValue(),l=a.scrollTop,d=a.scrollLeft,p=G(a,["scrollTop","scrollLeft"]),I=jt(t)?void 0:k=>s.current=Ct(k,i);return P.default.createElement(t,b({},p,{ref:I}))}),te=!1,Z=new Set,ot=()=>{if(!te)return!1;let t=nt();for(let e of Z){let r=!1;for(let i=0;i<e.configs.length;i++){let n=e.configs[i],o,c;for(let s=0;s<n.animatedValues.length;s++){let f=n.animatedValues[s];if(f.done)continue;let a=n.fromValues[s],l=n.toValues[s],d=f.lastPosition,p=l instanceof N,I=Array.isArray(n.initialVelocity)?n.initialVelocity[s]:n.initialVelocity;if(p&&(l=l.getValue()),n.immediate){f.setValue(l),f.done=!0;continue}if(typeof a=="string"||typeof l=="string"){f.setValue(l),f.done=!0;continue}if(n.duration!==void 0)d=a+n.easing((t-f.startTime)/n.duration)*(l-a),o=t>=f.startTime+n.duration;else if(n.decay)d=a+I/(1-.998)*(1-Math.exp(-(1-.998)*(t-f.startTime))),o=Math.abs(f.lastPosition-d)<.1,o&&(l=d);else{c=f.lastTime!==void 0?f.lastTime:t,I=f.lastVelocity!==void 0?f.lastVelocity:n.initialVelocity,t>c+64&&(c=t);let k=Math.floor(t-c);for(let v=0;v<k;++v){let x=-n.tension*(d-l),z=-n.friction*I,W=(x+z)/n.mass;I=I+W*1/1e3,d=d+I*1/1e3}let E=n.clamp&&n.tension!==0?a<l?d>l:d<l:!1,D=Math.abs(I)<=n.precision,A=n.tension!==0?Math.abs(l-d)<=n.precision:!0;o=E||D&&A,f.lastVelocity=I,f.lastTime=t}p&&!n.toValues[s].done&&(o=!1),o?(f.value!==l&&(d=l),f.done=!0):r=!0,f.setValue(d),f.lastPosition=d}e.props.onFrame&&(e.values[n.name]=n.interpolation.getValue())}e.props.onFrame&&e.props.onFrame(e.values),r||(Z.delete(e),e.stop(!0))}return Z.size?me?me():Ee(ot):te=!1,te},$t=t=>{Z.has(t)||Z.add(t),te||(te=!0,Ee(me||ot))},qt=t=>{Z.has(t)&&Z.delete(t)};pe=class t extends ne{constructor(e,r,i,n){super(),this.calc=void 0,this.payload=e instanceof ne&&!(e instanceof t)?e.getPayload():Array.isArray(e)?e:[e],this.calc=ge(r,i,n)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,r,i){this.calc=ge(e,r,i)}interpolate(e,r,i){return new t(this,e,r,i)}};ie=class extends N{constructor(e){var r;super(),r=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(i,n){n===void 0&&(n=!0),r.value=i,n&&r.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){this.animatedStyles.size===0&&at(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,r,i){return new pe(this,e,r,i)}},Ie=class extends ne{constructor(e){super(),this.payload=e.map(r=>new ie(r))}setValue(e,r){r===void 0&&(r=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((i,n)=>this.payload[n].setValue(i,r)):this.payload.forEach(i=>i.setValue(e,r))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,r){return new pe(this,e,r)}},Bt=0,Fe=class{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=Bt++}update(e){if(!e)return this;let r=Ae(e),i=r.delay,n=i===void 0?0:i,o=r.to,c=G(r,["delay","to"]);if(m.arr(o)||m.fun(o))this.queue.push(b({},c,{delay:n,to:o}));else if(o){let s={};Object.entries(o).forEach(f=>{let a=f[0],l=f[1],d=b({to:{[a]:l},delay:K(n,a)},c),p=s[d.delay]&&s[d.delay].to;s[d.delay]=b({},s[d.delay],d,{to:b({},p,d.to)})}),this.queue=Object.values(s)}return this.queue=this.queue.sort((s,f)=>s.delay-f.delay),this.diff(c),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(n=>{let o=n.from,c=o===void 0?{}:o,s=n.to,f=s===void 0?{}:s;m.obj(c)&&(this.merged=b({},c,this.merged)),m.obj(f)&&(this.merged=b({},this.merged,f))});let r=this.local=++this.guid,i=this.localQueue=this.queue;this.queue=[],i.forEach((n,o)=>{let c=n.delay,s=G(n,["delay"]),f=l=>{o===i.length-1&&r===this.guid&&l&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()},a=m.arr(s.to)||m.fun(s.to);c?setTimeout(()=>{r===this.guid&&(a?this.runAsync(s,f):this.diff(s).start(f))},c):a?this.runAsync(s,f):this.diff(s).start(f)})}else m.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),$t(this);return this}stop(e){return this.listeners.forEach(r=>r(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&qt(this),this}runAsync(e,r){var i=this;let n=e.delay,o=G(e,["delay"]),c=this.local,s=Promise.resolve(void 0);if(m.arr(o.to))for(let f=0;f<o.to.length;f++){let a=f,l=b({},o,Ae(o.to[a]));m.arr(l.config)&&(l.config=l.config[a]),s=s.then(()=>{if(c===this.guid)return new Promise(d=>this.diff(l).start(d))})}else if(m.fun(o.to)){let f=0,a;s=s.then(()=>o.to(l=>{let d=b({},o,Ae(l));if(m.arr(d.config)&&(d.config=d.config[f]),f++,c===this.guid)return a=new Promise(p=>this.diff(d).start(p))},function(l){return l===void 0&&(l=!0),i.stop(l)}).then(()=>a))}s.then(r)}diff(e){this.props=b({},this.props,e);let r=this.props,i=r.from,n=i===void 0?{}:i,o=r.to,c=o===void 0?{}:o,s=r.config,f=s===void 0?{}:s,a=r.reverse,l=r.attach,d=r.reset,p=r.immediate;if(a){var I=[c,n];n=I[0],c=I[1]}this.merged=b({},n,this.merged,c),this.hasChanged=!1;let k=l&&l(this);if(this.animations=Object.entries(this.merged).reduce((E,D)=>{let A=D[0],v=D[1],x=E[A]||{},z=m.num(v),W=m.str(v)&&!v.startsWith("#")&&!/\d/.test(v)&&!rt[v],R=m.arr(v),h=!z&&!R&&!W,g=m.und(n[A])?v:n[A],S=z||R||W?v:1,F=K(f,A);k&&(S=k.animations[A].parent);let V=x.parent,$=x.interpolation,U=ee(k?S.getPayload():S),j,L=v;h&&(L=he({range:[0,1],output:[v,v]})(1));let u=$&&$.getValue(),C=!m.und(V)&&x.animatedValues.some(w=>!w.done),q=!m.equ(L,u),T=!m.equ(L,x.previous),_=!m.equ(F,x.config);if(d||T&&q||_){if(z||W)V=$=x.parent||new ie(g);else if(R)V=$=x.parent||new Ie(g);else if(h){let w=x.interpolation&&x.interpolation.calc(x.parent.value);w=w!==void 0&&!d?w:g,x.parent?(V=x.parent,V.setValue(0,!1)):V=new ie(0);let oe={output:[w,v]};x.interpolation?($=x.interpolation,x.interpolation.updateConfig(oe)):$=V.interpolate(oe)}return U=ee(k?S.getPayload():S),j=ee(V.getPayload()),d&&!h&&V.setValue(g,!1),this.hasChanged=!0,j.forEach(w=>{w.startPosition=w.value,w.lastPosition=w.value,w.lastVelocity=C?w.lastVelocity:void 0,w.lastTime=C?w.lastTime:void 0,w.startTime=nt(),w.done=!1,w.animatedStyles.clear()}),K(p,A)&&V.setValue(h?S:v,!1),b({},E,{[A]:b({},x,{name:A,parent:V,interpolation:$,animatedValues:j,toValues:U,previous:L,config:F,fromValues:ee(V.getValue()),immediate:K(p,A),initialVelocity:Q(F.velocity,0),clamp:Q(F.clamp,!1),precision:Q(F.precision,.01),tension:Q(F.tension,170),friction:Q(F.friction,26),mass:Q(F.mass,1),duration:F.duration,easing:Q(F.easing,w=>w),decay:F.decay})})}else return q?E:(h&&(V.setValue(1,!1),$.updateConfig({output:[L,L]})),V.done=!0,this.hasChanged=!0,b({},E,{[A]:b({},E[A],{previous:L})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let E in this.animations)this.interpolations[E]=this.animations[E].interpolation,this.values[E]=this.animations[E].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}},Nt=0,ue="enter",Se="leave",Ve="update",Ut=(t,e)=>(typeof e=="function"?t.map(e):ee(e)).map(String),Te=t=>{let e=t.items,r=t.keys,i=r===void 0?o=>o:r,n=G(t,["items","keys"]);return e=ee(e!==void 0?e:null),b({items:e,keys:Ut(e,i)},n)};Le=class extends de{constructor(e){e===void 0&&(e={}),super(),e.transform&&!(e.transform instanceof N)&&(e=Re.transform(e)),this.payload=e}},ye={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},H="[-+]?\\d*\\.?\\d+",xe=H+"%";Gt=new RegExp("rgb"+be(H,H,H)),Kt=new RegExp("rgba"+be(H,H,H,H)),Ht=new RegExp("hsl"+be(H,xe,xe)),_t=new RegExp("hsla"+be(H,xe,xe,H)),Mt=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Qt=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Zt=/^#([0-9a-fA-F]{6})$/,Jt=/^#([0-9a-fA-F]{8})$/;ce=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Yt=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,er=new RegExp(`(${Object.keys(ye).join("|")})`,"g"),tr=t=>{let e=t.output.map(n=>n.replace(Yt,Ye)).map(n=>n.replace(er,Ye)),r=e[0].match(ce).map(()=>[]);e.forEach(n=>{n.match(ce).forEach((o,c)=>r[c].push(+o))});let i=e[0].match(ce).map((n,o)=>ge(b({},t,{output:r[o]})));return n=>{let o=0;return e[0].replace(ce,()=>i[o++](n)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(c,s,f,a,l)=>`rgba(${Math.round(s)}, ${Math.round(f)}, ${Math.round(a)}, ${l})`)}},re={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),nr=["Webkit","Ms","Moz","O"];re=Object.keys(re).reduce((t,e)=>(nr.forEach(r=>t[rr(r,e)]=t[e]),t),re);et={};Rt(t=>new Le(t));Tt("div");It(tr);Pt(ye);Et((t,e)=>{if(t.nodeType&&t.setAttribute!==void 0){let n=e.style,o=e.children,c=e.scrollTop,s=e.scrollLeft,f=G(e,["style","children","scrollTop","scrollLeft"]),a=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter";c!==void 0&&(t.scrollTop=c),s!==void 0&&(t.scrollLeft=s),o!==void 0&&(t.textContent=o);for(let l in n)if(n.hasOwnProperty(l)){var r=l.indexOf("--")===0,i=ir(l,n[l],r);l==="float"&&(l="cssFloat"),r?t.style.setProperty(l,i):t.style[l]=i}for(let l in f){let d=a?l:et[l]||(et[l]=l.replace(/([A-Z])/g,p=>"-"+p.toLowerCase()));typeof t.getAttribute(d)<"u"&&t.setAttribute(d,f[l])}return}else return!1},t=>t);or=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ar=St(Ot,!1),ve=ar(or)});function ft({isVisible:t,isDarkBackground:e,type:r,onClick:i}){let c=`lightbox-arrow-${r}`;return M(sr,{"data-testid":c,position:"absolute",top:"50%",marginTop:"-4rm",zIndex:3100,onClick:i,initial:{opacity:0},animate:{opacity:t?1:0,left:r==="left"?t?24:-40:"auto",right:r==="right"?t?24:-40:"auto"},variant:"clean",children:[O(fe,{id:c,children:r==="left"?"Previous":"Next"}),r==="left"?e?O(We,{}):O(Ke,{}):e?O(Ge,{}):O(He,{})]})}function fr({isVisible:t,isDarkBackground:e,onPrev:r,onNext:i}){return M(De,{children:[O(ft,{isVisible:t,isDarkBackground:e,type:"left",onClick:r}),O(ft,{isVisible:t,isDarkBackground:e,type:"right",onClick:i})]})}var sr,lt,ct=ae(()=>{"use strict";Ne();Ue();ke();xt();bt();vt();wt();J();sr=X(se);lt=fr});function ut(t){return M(lr,{initial:{opacity:0},animate:{opacity:t.isVisible?1:0},"data-testid":"lightbox-cross",onClick:t.onClick,position:"absolute",right:"2rm",top:"2rm",zIndex:3100,variant:"clean",children:[O(fe,{id:"lightbox-cross",children:"Close"}),t.isDarkBackground?O(_e,{}):O(Me,{})]})}var lr,dt=ae(()=>{"use strict";Ne();Ue();ke();kt();At();J();lr=X(se)});function cr({mode:t,isVisible:e,slides:r,onClose:i,index:n,onSlideChange:o,originRect:c}){let[s,f]=(0,B.useState)("prev"),a=(0,B.useMemo)(()=>r[n],[r,n]),[l,d]=(0,B.useState)(!1),[p,I]=(0,B.useState)(!1),k=(0,B.useMemo)(()=>r.map((u,y)=>u.gallery?y:null).filter(u=>u!==null),[r]),E=r.length>1&&a.gallery,{isImageLoaded:D,preloadImage:A}=ur(),v=D(a.imgSrc)||l&&p&&A(a.imgSrc),x=v?"zoom-out":"wait",[z,W]=(0,B.useState)({height:window.innerHeight,width:window.innerWidth});function R(){W({height:window.innerHeight,width:window.innerWidth})}let h=(0,B.useMemo)(()=>{let{r:u,g:y,b:C,a:q}=ze(a.color);return`rgba(${u}, ${y}, ${C}, ${q})`},[a.color]),g={hidden:{opacity:0},visible:{opacity:1}},S=(0,B.useMemo)(()=>{let{top:u=0,left:y=0,...C}=c;return{...C,top:`${u*100/z.height}%`,left:`${y*100/z.width}%`,opacity:0}},[c,z]),F=je(e,null,{from:S,enter:{top:"50%",left:"50%",height:a.height,width:a.width,opacity:1},leave:E?{opacity:0}:S,onDestroyed:u=>{I(!u),d(!u)}}),V=je(a,u=>u._id,{immediate:!p,from:{opacity:0,left:s==="next"?"100%":"-100%"},enter:{opacity:1,left:"0%"},leave:{opacity:0,left:s==="next"?"-100%":"100%"},onDestroyed:()=>{l||d(!0)}});function $(u){if(!E||!o)return;d(!1),f(u);let y=k.indexOf(n),C=u==="next"?y+1:y-1;u==="next"?C<k.length?o(k[C]):o(k[0]):C>=0?o(k[C]):o(k[k.length-1])}function U(){p&&i&&i()}function j(u){switch(u.key){case"Escape":U();break;case"ArrowLeft":$("prev");break;case"ArrowRight":$("next");break;default:break}}(0,B.useEffect)(()=>(window.addEventListener("resize",R),t==="viewer"&&p&&(e?window.addEventListener("keyup",j):window.removeEventListener("keyup",j)),()=>{window.removeEventListener("resize",R),window.removeEventListener("keyup",j)}),[e,a,p]);let L=(0,B.useMemo)(()=>Be(a.color),[a]);return M(we,{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:2999,pointerEvents:p?"all":"none",children:[O(ut,{isDarkBackground:!L,isVisible:e&&p,onClick:U}),t==="viewer"&&E&&O(lt,{isDarkBackground:!L,isVisible:e&&p,onPrev:()=>$("prev"),onNext:()=>$("next")}),O(X.div,{onClick:U,variants:g,initial:"hidden",animate:e?"visible":"hidden",style:{backgroundColor:h,position:"absolute",zIndex:0,width:"100%",height:"100%",transition:".3s background-color",cursor:x}}),V.map(({item:u,key:y,props:C})=>O(ve.div,{onClick:U,style:{position:"absolute",zIndex:10,width:"100%",height:"100%",cursor:x,...C},children:F.map(({item:q,key:T,props:{height:_,width:w,...oe}})=>{if(!q)return null;let Oe={position:"absolute",transform:"translate(-50%, -50%)",height:e&&p||!e&&p&&u.gallery?u.height:_,width:e&&p||!e&&p&&u.gallery?u.width:w,...oe};return M(we,{children:[v&&O(ve.img,{style:{...Oe,zIndex:20},src:u.imgSrc}),O(ve.img,{"data-testid":"lightbox-image",style:{...Oe,zIndex:10,filter:"blur(0.4px)"},src:u.previewImgSrc})]},T)})},y))]})}function ur(){let[t,e]=(0,B.useState)({});function r(n){if(t.hasOwnProperty(n))return t[n];let o=new Image;o.onload=()=>{e({...t,[n]:!0})},o.onerror=()=>{let c={...t};delete c[n],e(c)},o.src=n,e({...t,[n]:!1})}function i(n){return t.hasOwnProperty(n)?t[n]:!1}return{isImageLoaded:i,preloadImage:r}}var B,Nr,dr=ae(()=>{"use strict";B=$e(qe());pt();st();ke();ht();gt();ct();dt();J();Nr=cr});export{Nr as a,dr as b};
