import{a as c,b as p}from"https://st-p.rmcdn.net/670469db/dist/c/c-SMJF5YJL.js";import"https://st-p.rmcdn.net/670469db/dist/c/c-IP5L6X4Y.js";import"https://st-p.rmcdn.net/670469db/dist/c/c-3ADPUEBW.js";import"https://st-p.rmcdn.net/670469db/dist/c/c-TMLIPHM4.js";import"https://st-p.rmcdn.net/670469db/dist/c/c-4RRFSRAU.js";import{a as y}from"https://st-p.rmcdn.net/670469db/dist/c/c-43CRZFF7.js";var s,M,x,v=y(()=>{p();s=t=>t*Math.PI/180,M=({widget:t,e:a})=>{if(t.isDragging){a.state.isTouchEvent&&a.originalEvent.preventDefault(),document.body.style.pointerEvents!=="none"&&(document.body.style.pointerEvents="none");let n=(c.isCSSZoom()||c.isCSSTransform())&&t.currentScale||1,l=t.is_above?a.state.cursorPosition.x:a.state.cursorPagePosition.x,i=t.is_above?a.state.cursorPosition.y:a.state.cursorPagePosition.y,r=0,e=0,o=(t.angle||0)+(t.animationAngle||0);if(o){let u=l*Math.cos(s(o))+i*Math.sin(s(o)),m=-1*l*Math.sin(s(o))+i*Math.cos(s(o)),f=(t.mouseStart?.x||0)*Math.cos(s(o))+(t.mouseStart?.y||0)*Math.sin(s(o)),S=-1*(t.mouseStart?.x||0)*Math.sin(s(o))+(t.mouseStart?.y||0)*Math.cos(s(o));r=(u-f)/n/(t.animationScale?.x||1),e=(m-S)/n/(t.animationScale?.y||1)}else r=(l-(t.mouseStart?.x||0))/n/(t.animationScale?.x||1),e=(i-(t.mouseStart?.y||0))/n/(t.animationScale?.y||1);t.flip_h&&(r*=-1),t.flip_v&&(e*=-1),t.$el[0]&&t.startPosition&&(t.$el[0].style.transform=t.$el[0].style.transform.replace(/translate\(.+?\)/,`translate(${(t.startPosition.x||0)+r}px, ${(t.startPosition.y||0)+e}px)`))}},x=M});v();export{x as default};
