import{b as a,c as p}from"https://st-p.rmcdn.net/8e59565c/dist/c/c-ZQAKSYJH.js";import{a as d}from"https://st-p.rmcdn.net/8e59565c/dist/c/c-AUVFGGVF.js";async function r(n,e){let t={...e,headers:{"Content-Type":"application/json",...e?.headers}};n.startsWith("/api")&&(t.headers={...t.headers,[a.RMVersionHeader]:a.RELEASE});let o=await fetch(n,t),s=o.headers.get("content-type")?.includes("application/json")?await o.json():await o.text();if(o.ok)return s;throw{message:!s||typeof s=="string"?s:s.message,statusCode:o.status}}var b,g=d(()=>{"use strict";p();b={get:(n,e={},t={})=>{let o=Object.keys(e).map(s=>{let i=e[s];return Array.isArray(i)?i.map(c=>`${encodeURIComponent(`${s}[]`)}=${encodeURIComponent(c)}`).join("&"):`${encodeURIComponent(s)}=${encodeURIComponent(i)}`}).join("&");return r(`${n}${o?`?${o}`:""}`,t)},post:(n,e={},t={})=>r(n,{method:"POST",body:JSON.stringify(e),...t}),patch:(n,e,t={})=>r(n,{method:"PATCH",body:JSON.stringify(e),...t}),put:(n,e,t={})=>r(n,{method:"PUT",body:JSON.stringify(e),...t}),delete:(n,e,t={})=>r(n,{method:"DELETE",body:e?JSON.stringify(e):void 0,...t}),sendBeacon:(n,e={})=>new Promise((t,o)=>{navigator.sendBeacon?navigator.sendBeacon(n,new Blob([JSON.stringify(e)],{type:"application/json; charset=UTF-8"}))?t(!0):o(new Error("Failed to queue the request")):r(n,{method:"POST",body:JSON.stringify(e)}).then(t).catch(o)})}});export{b as a,g as b};
