import{a as tt,b as Zo}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-ONY6DFZ2.js";import{a as nt,b as rt}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-N57YM3IQ.js";import{a as st,b as on}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-MREJ2LLE.js";import{b as at,k as nn}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-SXDE6LPI.js";import{c as lt,d as dt,e as ct,f as pt,h as gt,j as ut,o as mt,p as rn}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-XQWHE6DK.js";import{a as he,b as ot}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-NITTXA45.js";import{a as it,b as tn}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-XWTIS2UH.js";import{a as M,b as Te}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-QBTNKWH5.js";import{b as Ge,e as en}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-5WOA3OAL.js";import{d as ee,g as V,j as He}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-VMBUSVOY.js";import{B as Pe,C as r,D as g,E as z}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-B5SOAUQH.js";import{a as Ue}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-R5L6UBQG.js";import{a as W,b as te}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-TNXMQHOU.js";import{b as se,c as Yo}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-GF2LBU4E.js";import{b as Jo}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-R5DRPSFA.js";import{a as Ze,c as Qo,j as et,o as Xo}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-4VWUTGLK.js";import{b as Ko}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-VINZ7W46.js";import{a as _,d as ue,f as me}from"https://st-p.rmcdn.net/c9a51d26/dist/c/c-2LNZKOQK.js";var ae=_(()=>{"use strict"});function d({children:e}){return r(Ge,{textStyle:"small",children:e})}function c({children:e}){return r(Ge,{textStyle:"small",fontStyle:"italic",children:e})}var Fe=_(()=>{"use strict";en();z()});var j,C,Tt,ht=_(()=>{"use strict";Fe();ae();z();j={TextWidget:g(d,{children:["Click on the ",r(c,{children:"plus"})," in the lower-left panel and choose a Text widget"]}),TextWidgetOpenPanel:"Select the text widget to get back on track",PictureWidgetSelect:g(d,{children:["Click on the ",r(c,{children:"plus"})," in the lower-left panel and add a Picture widget"]}),PictureWidgetUse:"Select the picture widget again",ButtonWidgetSelect:g(d,{children:["Click on the plus and choose a ",r(c,{children:"Button"})," widget"]}),ButtonWidgetAdjustVisualProperties:"Select the button widget you added earlier",ButtonWidgetAddLink:"Select the button widget you added earlier",CreateLayout:g(d,{children:["\u0421lick the ",r(c,{children:"Devices"})," icon to add a mobile layout"]}),CreateLayoutSelect:g(d,{children:["\u0421lick the ",r(c,{children:"Devices"})," icon to add a mobile layout"]})},C={TextWidget:g(d,{children:["First, let\u2019s learn how to work with text blocks. Click here to add a ",r(c,{children:"Text"})," widget"]}),TextWidgetOpenPanel:g(d,{children:["Now open the ",r(c,{children:"Typography"})," panel"]}),TextWidgetProperties:"Change the font size to 13 and click on the empty area",TextWidgetSelect:r(d,{children:"Let\u2019s say you want to finish text editing\u2014just click on any empty area"}),TextWidgetDrag:r(d,{children:"Now drag the text to its placeholder (a place reserved for a particular element)"}),PictureWidget:g(d,{children:["You\u2019re off to a good start! Now click on the ",r(c,{children:"plus"})," to start adding a picture"]}),PictureWidgetSelect:g(d,{children:["Choose the ",r(c,{children:"Picture"})," widget"]}),PictureWidgetUse:"Click on the Unsplash icon and pick a picture of a building",PictureWidgetChoose:"Pick a picture building",PictureWidgetClickOutside:"Now let\u2019s align this widget to the grid. Click on the empty area",SelectGrids:g(d,{children:["Then select ",r(c,{children:"Grid & Guides"})]}),ChangeGrids:g(d,{children:["The 3 dots on the right top of the settings correspond to 3 grid presets",r("br",{}),"Click on the last dot"]}),PictureWidgetPlace:"Move the picture to its placeholder and align it to the grid",EverythingInItsRightPlace:"Check that all the added widgets are aligned to the grid and click on empty area",TurnOffGuides:g(d,{children:["Disable the guides by pressing the ",r(c,{children:"H"})," key"]}),PageHeight:g(d,{children:["Now we\u2019ll decrease the page height.",r("br",{}),"Scroll down and drag the ",r(c,{children:"Blue Diamond"})," up"]}),OpenLayersPanel:g(d,{children:["Go to the ",r(c,{children:"Layers"})," panel by pressing ",r(c,{children:"Q"})," to delete placeholders no longer needed"]}),SelectBlocksAndDelete:g(d,{children:["Select widget groups of placeholders and press ",r(c,{children:"Delete"})]}),DeleteBlocks:g(d,{children:["Go to the ",r(c,{children:"Layers"})," panel by pressing ",r(c,{children:"Q"})," and delete no longer needed widget groups of placeholders"]}),ButtonWidget:g(d,{children:["Well done, now let\u2019s add a button. Click on the ",r(c,{children:"plus"})," first"]}),ButtonWidgetSelect:g(d,{children:["Choose a ",r(c,{children:"Button"})," widget"]}),ButtonWidgetAdjustVisualProperties:"Change the button color to black and click on the empty area",ButtonWidgetAddLink:g(d,{children:["Choose an ",r(c,{children:"Anchor"})," type link from the dropdown",r("br",{}),"and add it to the button"]}),ButtonWidgetAddLinkType:g(d,{children:["Add ",r(c,{children:"Anchor"})," link to the button"]}),ButtonWidgetAnchorLinkPosition:"Set the place were the anchor link will lead\u2014above the pictures",ButtonWidgetDrag:"Now drag the button to its placeholder",CreateLayout:g(d,{children:["Now let\u2019s see how your design looks in the mobile version",r("br",{}),"Click on the ",r(c,{children:"Devices"})," icon"]}),CreateLayoutSelect:g(d,{children:["Click on the ",r(c,{children:"plus"})," at the top of the Devices panel"]}),AdjustSizes:"It\u2019s time to add the finishing touch. Swap the picture with the text widget",ArrangeMobile:g(d,{children:["Click ",r(c,{children:"Single column"})," to arrange a mobile version"]}),PreviewAndPublish:g(d,{children:["Last step! Click on the ",r(c,{children:"Eye"})," icon to preview your project before publishing"]}),BackToConstructor:g(d,{children:["Hit ",r(c,{children:"Publish"})," or click the pencil icon to go back to the editor"]})},Tt={TextWidget:{name:"TextWidget",text({isPresetPanel:e}={}){return e?g(d,{children:["Open ",r(c,{children:"Widgets"})]}):C.TextWidget},num:1,nextStep:"TextWidgetOpenPanel",widgetSelectionType:"text",fallbackText:j.TextWidget},TextWidgetOpenPanel:{name:"TextWidgetOpenPanel",text:C.TextWidgetOpenPanel,num:2,prevStep:"TextWidget",nextStep:"TextWidgetProperties",fallbackText:j.TextWidgetOpenPanel},TextWidgetProperties:{name:"TextWidgetProperties",text:C.TextWidgetProperties,num:3,prevStep:"TextWidgetOpenPanel",nextStep:"TextWidgetSelect",fallbackText:j.TextWidgetOpenPanel},TextWidgetSelect:{name:"TextWidgetSelect",text:C.TextWidgetSelect,num:4,prevStep:"TextWidgetProperties",nextStep:"TextWidgetDrag"},TextWidgetDrag:{name:"TextWidgetDrag",text:C.TextWidgetDrag,num:5,prevStep:"TextWidgetSelect",nextStep:"ButtonWidget"},ButtonWidget:{name:"ButtonWidget",text:C.ButtonWidget,num:6,prevStep:"TextWidgetDrag",nextStep:"ButtonWidgetSelect"},ButtonWidgetSelect:{name:"ButtonWidgetSelect",text:C.ButtonWidgetSelect,num:7,prevStep:"ButtonWidget",nextStep:"ButtonWidgetDrag",widgetSelectionType:"button",fallbackText:j.ButtonWidgetSelect},ButtonWidgetDrag:{name:"ButtonWidgetDrag",text:C.ButtonWidgetDrag,num:8,prevStep:"ButtonWidgetSelect",nextStep:"ButtonWidgetAdjustVisualProperties"},ButtonWidgetAdjustVisualProperties:{name:"ButtonWidgetAdjustVisualProperties",text:C.ButtonWidgetAdjustVisualProperties,num:9,prevStep:"ButtonWidgetDrag",nextStep:"ButtonWidgetAddLink",fallbackText:j.ButtonWidgetAdjustVisualProperties},ButtonWidgetAddLink:{name:"ButtonWidgetAddLink",text:C.ButtonWidgetAddLink,num:10,prevStep:"ButtonWidgetAdjustVisualProperties",nextStep:"ButtonWidgetAddLinkType",fallbackText:j.ButtonWidgetAddLink},ButtonWidgetAddLinkType:{name:"ButtonWidgetAddLinkType",text:C.ButtonWidgetAddLinkType,num:11,prevStep:"ButtonWidgetAddLink",nextStep:"ButtonWidgetAnchorLinkPosition",fallbackText:j.ButtonWidgetAddLink},ButtonWidgetAnchorLinkPosition:{name:"ButtonWidgetAnchorLinkPosition",text:C.ButtonWidgetAnchorLinkPosition,num:12,prevStep:"ButtonWidgetAddLink",nextStep:"PictureWidget"},PictureWidget:{name:"PictureWidget",text:C.PictureWidget,num:13,prevStep:"ButtonWidgetAddLink",nextStep:"PictureWidgetSelect",widgetSelectionType:"picture"},PictureWidgetSelect:{name:"PictureWidgetSelect",text:C.PictureWidgetSelect,num:14,prevStep:"PictureWidget",nextStep:"PictureWidgetUse",widgetSelectionType:"picture",fallbackText:j.PictureWidgetSelect},PictureWidgetUse:{name:"PictureWidgetUse",text:C.PictureWidgetUse,num:15,prevStep:"PictureWidgetSelect",nextStep:"PictureWidgetChoose",fallbackText:j.PictureWidgetUse},PictureWidgetChoose:{name:"PictureWidgetChoose",text:C.PictureWidgetChoose,num:16,prevStep:"PictureWidgetUse",nextStep:"PictureWidgetClickOutside"},PictureWidgetClickOutside:{name:"PictureWidgetClickOutside",text:C.PictureWidgetClickOutside,num:17,prevStep:"PictureWidgetUse",nextStep:"SelectGrids",fallbackStep:"SelectGrids"},SelectGrids:{name:"SelectGrids",text:C.SelectGrids,num:18,prevStep:"PictureWidgetClickOutside",nextStep:"ChangeGrids"},ChangeGrids:{name:"ChangeGrids",text:C.ChangeGrids,num:19,prevStep:"SelectGrids",nextStep:"PictureWidgetPlace"},PictureWidgetPlace:{name:"PictureWidgetPlace",text:C.PictureWidgetPlace,num:20,prevStep:"ChangeGrids",nextStep:"EverythingInItsRightPlace"},EverythingInItsRightPlace:{name:"EverythingInItsRightPlace",text:C.EverythingInItsRightPlace,num:21,prevStep:"PictureWidgetPlace",nextStep:"TurnOffGuides"},TurnOffGuides:{name:"TurnOffGuides",text:C.TurnOffGuides,num:22,prevStep:"EverythingInItsRightPlace",nextStep:"PageHeight"},PageHeight:{name:"PageHeight",text:C.PageHeight,num:23,prevStep:"TurnOffGuides",nextStep:"OpenLayersPanel"},OpenLayersPanel:{name:"OpenLayersPanel",text:C.OpenLayersPanel,num:24,prevStep:"PageHeight",nextStep:"SelectBlocksAndDelete"},SelectBlocksAndDelete:{name:"SelectBlocksAndDelete",text:C.SelectBlocksAndDelete,num:25,prevStep:"OpenLayersPanel",nextStep:"CreateLayout"},CreateLayout:{name:"CreateLayout",text:C.CreateLayout,num:26,prevStep:"ButtonWidgetAddLink",nextStep:"CreateLayoutSelect",fallbackText:j.CreateLayout},CreateLayoutSelect:{name:"CreateLayoutSelect",text:C.CreateLayoutSelect,num:27,prevStep:"CreateLayout",nextStep:"ArrangeMobile",fallbackText:j.CreateLayoutSelect},ArrangeMobile:{name:"ArrangeMobile",text:C.ArrangeMobile,num:28,prevStep:"CreateLayoutSelect",nextStep:"PreviewAndPublish"},PreviewAndPublish:{name:"PreviewAndPublish",text:C.PreviewAndPublish,num:29,prevStep:"ArrangeMobile",nextStep:"BackToConstructor"},BackToConstructor:{name:"BackToConstructor",text:C.BackToConstructor,num:30,prevStep:"PreviewAndPublish"}}});var B,y,Pt,ft=_(()=>{"use strict";Fe();ae();z();B={OpenBackgroundLayer:g(d,{children:["Open ",r(c,{children:"Background"})," layer"]}),MobileMenuVisible:g(d,{children:["Click on your Mobile menu in ",r(c,{children:"Layers"})]}),BeforeAddAnimations:g(d,{children:["Click on your Mobile menu in ",r(c,{children:"Layers"})]}),ClickOnPaletteIcon:g(d,{children:["\u0421hoose gray color for ",r(c,{children:"Background"})," in ",r(c,{children:"Layers"})]}),ChangeGrids:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),ClickOnSnapButton:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),ClickOnSizesButton:g(d,{children:["Open ",r(c,{children:"Grid"})," and ",r(c,{children:"Layout"})]}),TurnOnTheBlocksMode:g(d,{children:["Open ",r(c,{children:"Modes"})]}),SwitchToMobileLayout:g(d,{children:["Switch to the Mobile layout in ",r(c,{children:"Devices"})]}),AddAnimations:r(d,{children:"Click on your Mobile menu again"}),AddTapAnimations:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),AddTapMoveAnimations:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),SetAnimationValue:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),SetAnimationTrigger:g(d,{children:["Select ",r(c,{children:"Background"})," and ",r(c,{children:"Menu"})," layers and open"," ",r(c,{children:"Animation"})," tab"]}),PositionControlClick:r(d,{children:"Click on your Mobile menu again"}),PositionTopRight:g(d,{children:["Open ",r(c,{children:"Position"})," tab"]}),PositionTogglesOn:g(d,{children:["Open ",r(c,{children:"Position"})," tab"]}),SwitchToDesktop:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]}),UseCustomCursor:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]}),PointerCursorUpload:g(d,{children:["Open ",r(c,{children:"Viewer settings"})]})},y={OpenLayersPanel:g(d,{children:["Let's tweak this website a bit. Open ",r(c,{children:"Layers"})," panel ",r("br",{}),"to change the background color"]}),OpenBackgroundLayer:g(d,{children:["Open ",r(c,{children:"Background"})," layer"]}),ClickOnPaletteIcon:r(d,{children:"Choose gray color"}),SelectGrids:g(d,{children:["Now let's align widgets\u2014building blocks your layout ",r("br",{}),"consists of\u2014to the grid. Open ",r(c,{children:"Grid & Guides"})]}),ChangeGrids:g(d,{children:["The 3 dots on the right top of the settings correspond to 3 grid presets",r("br",{}),"Click on the last dot"]}),ClickOnSnapButton:g(d,{children:["Click on ",r(c,{children:"Snap"})," and all widgets will stick to the edges of columns and rows"]}),ClickOnSizesButton:g(d,{children:["Now click on ",r(c,{children:"Sizes"})," to see widgets' exact dimensions"]}),ArrangeWidgetsInTheGrid:r(d,{children:"Arrange widgets in the grid"}),ClickOnModesIcon:g(d,{children:["Now let's adjust distance between the blocks\u2014locked joints of widgets ",r("br",{}),"which help you edit just a part of the layout. Click on the ",r(c,{children:"Modes"})," icon"]}),TurnOnTheBlocksMode:g(d,{children:["Turn on the ",r(c,{children:"Blocks"})," mode"]}),HoverBetweenBlocks:r(d,{children:"Hover on space between blocks"}),SetBlocksDistance:r(d,{children:"Change the distance: type 80 here"}),DeselectAfterSetBlocksDistance:r(d,{children:"Click on empty area"}),DisableBlocksAndGrid:g(d,{children:["Disable ",r(c,{children:"Blocks"})," by pressing B key, and ",r(c,{children:"Guides"}),"\u2014by pressing H key"]}),OpenMobileLayout:r(d,{children:"Take a look at the Mobile layout"}),SwitchToMobileLayout:r(d,{children:"Switch to the Mobile layout"}),DeleteNavBar:g(d,{children:["Let's change the menu to a burger one. Delete the navigation bar with logo\u2014the layer",r("br",{}),"will disappear for mobile and stay at desktop as Readymag's desktop-first"]}),MobileMenuInLayers:g(d,{children:["Find the first group that corresponds to the Mobile menu in ",r(c,{children:"Layers"})]}),MobileMenuVisible:g(d,{children:["Make it visible by clicking on the layer and pressing ",r(c,{children:"Eye"})," icon"]}),BeforeAddAnimations:g(d,{children:["Let\u2019s add animation to your menu. Select ",r("br",{}),r(c,{children:"Background"})," and ",r(c,{children:"Menu layers"})," in the group ",r("br",{}),"by holding down Shift"]}),AddAnimations:g(d,{children:["Choose ",r(c,{children:"Tap"})," animation"]}),AddTapAnimations:g(d,{children:["Choose ",r(c,{children:"Tap"})," animation"]}),AddTapMoveAnimations:g(d,{children:["Add ",r(c,{children:"Move"})," animation to these layers"]}),SetAnimationValue:g(d,{children:["Set the left value to -328. It will let the background ",r("br",{}),"paired with the menu occupy the entire screen"]}),SetAnimationTrigger:r(d,{children:"Set your burger menu icon as a trigger for this animation"}),FixMenuClickOutside:g(d,{children:["Let's fix the menu so that it stays in place when the page's scrolled. ",r("br",{}),"Click on empty area and then select your mobile menu again."]}),PositionControlClick:g(d,{children:["Click on ",r(c,{children:"Position"})," control"]}),PositionTopRight:r(d,{children:"Choose the top right corner circle to fix the widget to this part of the screen"}),PositionTogglesOn:g(d,{children:["Enable ",r(c,{children:"On All Pages"})," and ",r(c,{children:"Above Pages"})," for the widget group so that it stays ",r("br",{}),"accessible on every page and above the rest of the elements"]}),CheckPreview:r(d,{children:"Check the preview"}),ViewerSettings:g(d,{children:["Let's go to ",r(c,{children:"Viewer settings"})," and take a look at the desktop layout. Your menu is intact here"]}),SwitchToDesktop:r(d,{children:"Switch to Desktop"}),UseCustomCursor:g(d,{children:["Let\u2019s add a custom cursor. Enable ",r(c,{children:"Use custom cursor"})," toggle"]}),PointerCursorUpload:g(d,{children:["You can upload your default and pointer cursors here. ",r("br",{}),"Click on empty space to finish working on the project"]}),GoBackToEditor:g(d,{children:["Let's return to the Editing mode where ",r("br",{}),"you'll continue mastering Readymag"]})},Pt={OpenLayersPanel:{name:"OpenLayersPanel",text:y.OpenLayersPanel,num:1,nextStep:"OpenBackgroundLayer"},OpenBackgroundLayer:{name:"OpenBackgroundLayer",text:y.OpenBackgroundLayer,num:2,prevStep:"OpenLayersPanel",nextStep:"ClickOnPaletteIcon",fallbackText:B.OpenBackgroundLayer},ClickOnPaletteIcon:{name:"ClickOnPaletteIcon",text:y.ClickOnPaletteIcon,num:3,prevStep:"OpenBackgroundLayer",nextStep:"SelectGrids",fallbackText:B.ClickOnPaletteIcon},SelectGrids:{name:"SelectGrids",text:y.SelectGrids,num:4,prevStep:"ClickOnPaletteIcon",nextStep:"ChangeGrids"},ChangeGrids:{name:"ChangeGrids",text:y.ChangeGrids,num:5,prevStep:"SelectGrids",nextStep:"ClickOnSnapButton",fallbackText:B.ChangeGrids},ClickOnSnapButton:{name:"ClickOnSnapButton",text:y.ClickOnSnapButton,num:6,prevStep:"SelectGrids",nextStep:"ClickOnSizesButton",fallbackText:B.ClickOnSnapButton},ClickOnSizesButton:{name:"ClickOnSizesButton",text:y.ClickOnSizesButton,num:7,prevStep:"ClickOnSnapButton",nextStep:"ArrangeWidgetsInTheGrid",fallbackText:B.ClickOnSizesButton},ArrangeWidgetsInTheGrid:{name:"ArrangeWidgetsInTheGrid",text:y.ArrangeWidgetsInTheGrid,num:8,prevStep:"ClickOnSizesButton",nextStep:"ClickOnModesIcon"},ClickOnModesIcon:{name:"ClickOnModesIcon",text:y.ClickOnModesIcon,num:9,prevStep:"ArrangeWidgetsInTheGrid",nextStep:"TurnOnTheBlocksMode"},TurnOnTheBlocksMode:{name:"TurnOnTheBlocksMode",text:y.TurnOnTheBlocksMode,num:10,prevStep:"ClickOnModesIcon",nextStep:"HoverBetweenBlocks",fallbackText:B.TurnOnTheBlocksMode},HoverBetweenBlocks:{name:"HoverBetweenBlocks",text:y.HoverBetweenBlocks,num:11,prevStep:"TurnOnTheBlocksMode",nextStep:"SetBlocksDistance"},SetBlocksDistance:{name:"SetBlocksDistance",text:y.SetBlocksDistance,num:12,prevStep:"HoverBetweenBlocks",nextStep:"DeselectAfterSetBlocksDistance"},DeselectAfterSetBlocksDistance:{name:"DeselectAfterSetBlocksDistance",text:y.DeselectAfterSetBlocksDistance,num:13,prevStep:"SetBlocksDistance",nextStep:"DisableBlocksAndGrid"},DisableBlocksAndGrid:{name:"DisableBlocksAndGrid",text:y.DisableBlocksAndGrid,num:14,prevStep:"SetBlocksDistance",nextStep:"OpenMobileLayout"},OpenMobileLayout:{name:"OpenMobileLayout",text:y.OpenMobileLayout,num:15,prevStep:"DisableBlocksAndGrid",nextStep:"SwitchToMobileLayout"},SwitchToMobileLayout:{name:"SwitchToMobileLayout",text:y.SwitchToMobileLayout,num:16,prevStep:"OpenMobileLayout",nextStep:"DeleteNavBar",fallbackText:B.SwitchToMobileLayout},DeleteNavBar:{name:"DeleteNavBar",text:y.DeleteNavBar,num:17,prevStep:"SwitchToMobileLayout",nextStep:"MobileMenuInLayers"},MobileMenuInLayers:{name:"MobileMenuInLayers",text:y.MobileMenuInLayers,num:18,prevStep:"DeleteNavBar",nextStep:"MobileMenuVisible",fallbackText:B.MobileMenuVisible},MobileMenuVisible:{name:"MobileMenuVisible",text:y.MobileMenuVisible,num:19,prevStep:"MobileMenuInLayers",nextStep:"BeforeAddAnimations",fallbackText:B.MobileMenuVisible},BeforeAddAnimations:{name:"BeforeAddAnimations",text:y.BeforeAddAnimations,num:20,prevStep:"MobileMenuVisible",nextStep:"AddAnimations",fallbackText:B.BeforeAddAnimations},AddAnimations:{name:"AddAnimations",text:y.AddAnimations,num:21,prevStep:"BeforeAddAnimations",nextStep:"AddTapAnimations",fallbackText:B.AddAnimations},AddTapAnimations:{name:"AddTapAnimations",text:y.AddTapAnimations,num:22,prevStep:"AddAnimations",nextStep:"AddTapMoveAnimations",fallbackText:B.AddTapAnimations},AddTapMoveAnimations:{name:"AddTapMoveAnimations",text:y.AddTapMoveAnimations,num:23,prevStep:"AddTapAnimations",nextStep:"SetAnimationValue",fallbackText:B.AddTapMoveAnimations},SetAnimationValue:{name:"SetAnimationValue",text:y.SetAnimationValue,num:24,prevStep:"AddTapAnimations",nextStep:"SetAnimationTrigger",fallbackText:B.SetAnimationValue},SetAnimationTrigger:{name:"SetAnimationTrigger",text:y.SetAnimationTrigger,num:25,prevStep:"SetAnimationValue",nextStep:"FixMenuClickOutside",fallbackText:B.SetAnimationTrigger},FixMenuClickOutside:{name:"FixMenuClickOutside",text:y.FixMenuClickOutside,num:26,prevStep:"SetAnimationTrigger",nextStep:"PositionControlClick"},PositionControlClick:{name:"PositionControlClick",text:y.PositionControlClick,num:27,prevStep:"FixMenuClickOutside",nextStep:"PositionTopRight",fallbackText:B.PositionControlClick},PositionTopRight:{name:"PositionTopRight",text:y.PositionTopRight,num:28,prevStep:"PositionControlClick",nextStep:"PositionTogglesOn",fallbackText:B.PositionTopRight},PositionTogglesOn:{name:"PositionTogglesOn",text:y.PositionTogglesOn,num:29,prevStep:"PositionTopRight",nextStep:"CheckPreview",fallbackText:B.PositionTogglesOn},CheckPreview:{name:"CheckPreview",text:y.CheckPreview,num:30,prevStep:"PositionTogglesOn",nextStep:"ViewerSettings"},ViewerSettings:{name:"ViewerSettings",text:y.ViewerSettings,num:31,prevStep:"CheckPreview",nextStep:"SwitchToDesktop"},SwitchToDesktop:{name:"SwitchToDesktop",text:y.SwitchToDesktop,num:32,prevStep:"ViewerSettings",nextStep:"UseCustomCursor",fallbackText:B.SwitchToDesktop},UseCustomCursor:{name:"UseCustomCursor",text:y.UseCustomCursor,num:33,prevStep:"SwitchToDesktop",nextStep:"PointerCursorUpload",fallbackText:B.UseCustomCursor},PointerCursorUpload:{name:"PointerCursorUpload",text:y.PointerCursorUpload,num:34,prevStep:"UseCustomCursor",nextStep:"GoBackToEditor",fallbackText:B.PointerCursorUpload},GoBackToEditor:{name:"GoBackToEditor",text:y.GoBackToEditor,num:35,prevStep:"PointerCursorUpload"}}});var fe,bt=_(()=>{"use strict";ae();ht();ft();fe={default:Tt,pro:Pt}});var St,xt=_(()=>{"use strict";te();St=()=>{W.post("/api/mailchimp/help-tour-not-finished")}});var yt,je,an,wt,ln,dn,$,ar,lr,Y,kt,dr,cr,cn,pn,pr,gr,ur,mr,be,Ct=_(()=>{"use strict";ot();He();Te();bt();ae();xt();ze();tn();yt={tourType:"default",modalStatus:"unshow",started:!1,waiting:!1,showNotice:!1,step:null,totalSteps:0},je=new Set,an=()=>{let e=window.RM.constructorRouter?.me,t=e?.get("behavior_metrics")||{};if(!t||!e)return;let s={...t,constructor_tour_finished:!0};e.save({behavior_metrics:s},{patch:!0})},wt=(e,t)=>t?Array.isArray(e)?e.includes(t.name):t.name===e:!1,[ln,dn,$,ar]=he(yt),lr=()=>ln({hookType:"layout"}),Y=e=>{dn(e),M.trigger("helptour:update",e)},kt=e=>{let t=$();Y({...t,modalStatus:e})},dr=(e="default")=>{if($().started)return;let p=Object.values(fe[e]),m=p[0];Y({tourType:e,modalStatus:"unshow",started:!0,waiting:!1,showNotice:!1,step:m,totalSteps:p.length});let T=e==="pro"?"helpTourPro":"helpTour";V.sendAmplitudeEvent(T,{status:"started"})},cr=()=>{let{started:e}=$();e&&kt("closing")},cn=()=>{let{started:e,step:t,totalSteps:s,tourType:p}=$();if(!e||!t){setTimeout(()=>{window.RM.constructorRouter.trigger("notice:triggerMetrics","helpTourSkipped")},1e3);return}je.clear(),Y({...yt,tourType:p}),t?.num<s&&St()},pn=e=>{let{step:t,tourType:s}=$();cn(),kt("end"),e?.();let p=s==="pro"?"helpTourProProgress":"helpTourProgress",m=s==="pro"?"helpTourPro":"helpTour";V.sendAmplitudeEvent(p,{step:t?.num}),V.sendAmplitudeEvent(m,{status:"finished"}),an()},pr=(e,t)=>{let s=$(),{step:p,started:m,tourType:T,totalSteps:u}=s;if(!m)return;if(!p?.nextStep){pn(t?.cb);return}let v=(Array.isArray(e)?e:[e]).includes(p.name),I=t?.fallback;if(!v||I&&!p.fallbackStep)return;let N=I&&p.fallbackStep?p.fallbackStep:p.nextStep,w=fe[T][N];w&&(Y({...s,waiting:!1,showNotice:!1,step:w}),it(()=>{for(let P=1;P<=u&&!(P>p.num);P++)if(P<=p.num&&!je.has(P)){let O=T==="pro"?"helpTourProProgress":"helpTourProgress";V.sendAmplitudeEvent(O,{step:P}),je.add(P)}}))},gr=e=>{let t=$(),{step:s,started:p,tourType:m}=t;if(!p||!s?.prevStep||!(Array.isArray(e)?e:[e]).includes(s.name))return;let S=fe[m][s.prevStep];S&&Y({...t,waiting:!1,showNotice:!1,step:S})},ur=e=>{let t=$(),{step:s,started:p}=t;!p||!wt(e,s)||Y({...t,waiting:!0})},mr=(e,t)=>{let s=$(),{step:p,started:m,showNotice:T}=s;!m||!wt(e,p)||Y({...s,showNotice:t.show??!T})},be=()=>$().started});var Se,gn,un,Wt=_(()=>{"use strict";Se=(e,t,s,p)=>{let m=s.findIndex(v=>v.num===e),T=m>=0?s[m]:null,u=e+1,S=null;if(T&&T.children&&T.children.length)if(p[T._id]&&p[T._id].collapsed)S=T._id;else{let v=s[m+1];v?u=v.num:u=T.children[T.children.length-1].num+1}if(!T){let v=t.find(I=>I.num===e);v&&(S=v.parentPage)}return{newPageNum:u,newPageParentId:S}},gn=(e,t=void 0)=>e.map(s=>s.children?{id:s._id,parentId:t,items:gn(s.children,s._id)}:{id:s._id,parentId:t}),un=e=>e.reduce((t,s)=>(t.push(s),s.items?t.concat(un(s.items)):t),[])});var U,vt=_(()=>{"use strict";U=class{constructor({message:t,tag:s,type:p}){me(this,"message");me(this,"type");me(this,"tag");this.message=t,this.tag=s,this.type=p||"error"}}});var Mt,Ot,Sr,At=_(()=>{"use strict";te();Mt=e=>W.get(`/api/user/${e}/links`),Ot=e=>W.get(`/api/user/${e}/projects-domains`),Sr=(e,t)=>W.post("/api/checkdomain",{type:e,domain:t})});var wr,kr,It,Cr,Bt=_(()=>{"use strict";te();wr=()=>W.get("/api/user_templates/"),kr=async e=>{let{data:t}=await W.get(`/api/help-tour-template/${e}`);return t||{}},It=e=>W.delete("/api/template/",{id:e}),Cr=(e,t)=>W.put("/api/template/",{id:e,name:t})});async function Or(){return await W.get("/api/domain-reseller")}var Dt,_t,Nt,Mr,Rt=_(()=>{"use strict";te();Dt=({numId:e,domainName:t,domainSource:s})=>W.post("/api/checkdomain",{num_id:e,domain:t,source:s}),_t=(e,t)=>W.post(`/api/mag/domain/${e}`,{domain:t,status:"on"}),Nt=e=>W.post(`/api/mag/domain/${e}`,{status:"off"}),Mr=e=>W.post("/api/domain/visit",{domain:e})});var Br,Dr,_r,Nr,Lt,Et,Ut=_(()=>{"use strict";te();Br=async({email:e,projectNumIds:t,folderIds:s,sharesAll:p,role:m,folderRoles:T,projectRoles:u})=>{let S=await W.post("/api/team",{email:e,mags:t,folders:s,sharesAll:p,role:m,folderRoles:T,projectRoles:u});if(!S.teamMember)throw S.error||S;return S.teamMember},Dr=async({email:e,projectNumIds:t,folderIds:s,sharesAll:p,role:m,folderRoles:T,projectRoles:u})=>{let S=await W.put("/api/team",{email:e,mags:t,folders:s,sharesAll:p,role:m,folderRoles:T,projectRoles:u});if(!S.teamMember)throw S.error||S;return S.teamMember},_r=e=>W.delete("/api/team",{email:e}),Nr=e=>W.post("/api/team/invite",{email:e}),Lt=()=>W.get("/api/team"),Et=(e,t={isPending:!1})=>{let s=new URLSearchParams(t);return W.get(`/api/project/${e}/team${s.toString()?"?"+s:""}`)}});function di({project:e,router:t,inPreview:s,children:p}){let m=(0,a.useCallback)(o=>{let n={...o.attributes};return delete n.children,n},[]),[T,u]=(0,a.useState)(()=>{let o=e.pages.models.map(i=>m(i));o.sort((i,l)=>i.num-l.num);let n=ye(o,null);return{project:e.attributes,owner:e.user.attributes,isOwner:!!t.isOwner,inPreview:!!s,pages:o,trashPages:[],pageRecentlyDeleted:!1,userTemplates:[],currentPageNum:t.getCurrentPageNum(),currentPageId:t.getCurrentPageId(),pagesTree:n,pagesParams:xe(n,{}),codeInjectUpgradeAlertShown:!1,publishInProgress:!1,unpublishInProgress:!1,isPublishError:!1,selectedPages:[],lockedPages:{},collaborators:[],team:[],allProjects:[],teamworkProjects:[],ownedProjectTeam:[],projectTeam:[],me:t.me.attributes}}),{pages:S,pagesTree:v,pagesParams:I,project:{user:N,opts:w,num_id:P,domain:O},currentPageId:R,currentPageNum:H,publishInProgress:A,unpublishInProgress:L,isOwner:J,me:Q}=T,X=(0,a.useCallback)(o=>{let n=t.pageOrder.get("order"),i=null;if(o>n.length)i=n[n.length-1].id;else{let l=n.find(h=>h.num===o);l&&(i=l.id)}i?t.showWorkspace({id:i}):t.showWorkspace({num:1})},[t]),Ke=(0,a.useCallback)((o,n)=>{let i=n.findIndex(l=>l._id===o.get("_id"));if(i>=0){let l=[...n];return l[i]&&(l[i]=m(o)),l}return n},[m]),oe=(0,a.useRef)(void 0),Z=(0,a.useCallback)((o,n={})=>{oe.current&&(oe.current.hide(),oe.current.remove()),oe.current=new tt({$parent:document.querySelector("body > .popups"),router:t,opts:{type:"type-more-pages",is_contributor:!t.isOwner,owner_email:N?N.email:"",...n},alert_source:o}),oe.current.render()},[N,t]),Ye=(0,a.useCallback)(()=>{u(o=>({...o,pageRecentlyDeleted:!1}))},[]),Ce=(0,a.useRef)(void 0),Qe=(0,a.useCallback)(()=>{u(o=>({...o,pageRecentlyDeleted:!0})),Ce.current&&clearTimeout(Ce.current),Ce.current=setTimeout(()=>{Ye()},4500)},[Ye]),ne=(0,a.useCallback)((o,n)=>e.set(o,n),[e]),de=(0,a.useCallback)((o,n)=>e.unset(o,n),[e]),Zt=(0,a.useCallback)((o,n)=>e.save(o,n),[e]),eo=(0,a.useCallback)((o,n,i)=>{let l=e.pages.get(o);if(!l)throw new Error("Element not found");return l.set(n,i)},[e]),to=(0,a.useCallback)((o,n,i)=>{let l=e.pages.get(o);if(!l)throw new Error("Element not found");return l.unset(n,i)},[e]),We=(0,a.useCallback)((o,n,i)=>{let l=e.pages.get(o);if(!l)throw new Error("Page not found");return l.save(n,{...i||{},patch:!0})},[e]),oo=(0,a.useCallback)(o=>{u(n=>({...n,currentPageNum:o}))},[]),Xe=(0,a.useCallback)(o=>{u(n=>({...n,inPreview:o}))},[]),no=(0,a.useCallback)((o,n)=>{u(i=>({...i,pagesParams:{...i.pagesParams,[o]:{...i.pagesParams[o],collapsed:n}}}))},[]),re=(0,a.useCallback)(async o=>{await e.pages.find(i=>i.attributes._id===o).updateScreenshots(e.get("num_id"))},[e]),ro=(0,a.useCallback)((o,n,i)=>new Promise((l,h)=>{let{newPageNum:f,newPageParentId:x}=Se(o,S,v,I),k=t.workspace.page.get("order")?.default,E={num:f};n&&(E={...E,...n}),e.addPage(E,G=>{if(G&&G.err)h(G);else{let F=G;n?window.RM.constructorRouter.trigger("notice:triggerMetrics","templateUsed"):F.isEmptyPage=!0,F.get("num")===2&&setTimeout(()=>{window.RM.constructorRouter.trigger("notice:triggerEduTip","eduTipUseNavigation",{standAlone:!0})},0),F.set("parentPage",x),t.pageOrder.reorderPagesAfterAdd({page:F,magId:e.get("_id")}),e.onAdd(F),n&&(F.from_template=!0,F.hasGlobalWidgets()&&(e.addGlobalWidgetsFromTemplate(F),e.pages.map(ie=>ie.attributes._id).filter(ie=>ie!==F.id).forEach(ie=>re(ie)))),i||t.showWorkspace({id:F.id}),l(F)}},!0,k)}),[t,e,S,v,I,re]),io=(0,a.useCallback)(o=>new Promise((n,i)=>{let l=e.getPage(o);if(!l)return i(new Error("Could not find page"));l.get("mid")||l.save({mid:e.get("_id")},{patch:!0,silent:!0});let{newPageNum:h,newPageParentId:f}=Se(l.get("num"),S,v,I);l.duplicate(x=>{if(x instanceof Error)return x.message==="Server error: permission_denied"&&(ce()?t.trigger("notice:show","unpauseSubscriptionToCreatePage",{canBeClosed:!0}):Z("duplicate page",{type:"type-more-pages"})),i(x);let b=x;b.set("parentPage",f),t.pageOrder.reorderPagesAfterAdd({page:b,magId:e.get("_id")}),e.onAdd(b),t.gg.guides?.model&&(t.gg.guides.model.addPage(b.id,{silent:t.gg.guides.hidden}),t.gg.guides.model.save()),t.showWorkspace({id:b.id}),n(x)},{num:h})}),[t,e,S,v,I,Z]),so=(0,a.useCallback)(async()=>{let o=t._pageChanged;o&&typeof o=="string"&&(t._pageChanged=!1,await re(o))},[t,re]),ao=(0,a.useCallback)(o=>new Promise((n,i)=>{t.pageOrder.saveInProgress()||(t.pageOrder.save({order:o,mid:t.mag.id},{success:()=>{e.trigger("change:pids",e,e.get("pids")),n()},error:i}),e.trigger("change:pids",e,e.get("pids")))}),[t,e]),lo=(0,a.useCallback)(o=>new Promise((n,i)=>{if(t.isPageLocked(o))return i(new Error("This page is locked"));if(e.get("pids").length===1)return i(new Error("Can't delete last page"));let l=I[o],h=[];if(l&&l.children.length){let b=l.children;l.collapsed?t.pageOrder.removeParentIds(b):h=[...b]}if(h.push(o),!e.checkDeletingPages(h))return i(new Error("Can't delete all pages"));let f=h.includes(R),x=H;t.pageOrder.deletePagesFromOrder(h,e.get("_id")).then(()=>{e.deletePages(h,b=>{b instanceof Error?(t.pageOrder.load(e),i(b)):b&&b.deleteNotEmptyPages&&Qe(),f?X(x):t.triggerPageChange(),h.forEach(k=>t.removeWorkspace(k)),n({deleted:h})})},(b,k)=>{i(new Error(k))})}),[t,e,I,R,H,Qe,X]),co=(0,a.useCallback)(o=>new Promise((n,i)=>{e.restorePage(o,{success:l=>{let h=t.workspace.getPageNum();if(!h)throw"Unable to get current page number";let{newPageNum:f,newPageParentId:x}=Se(h,S,v,I);l.set("num",f),l.set("parentPage",x),t.pageOrder.reorderPagesAfterAdd({page:l,magId:e.get("_id")}),e.onAdd(l),e.save(),t.showWorkspace({id:l.id}),n(l)},error:l=>{let h=JSON.parse(l.responseText);h.err==="permission_denied"&&Z("restore page",{type:"type-more-pages"}),i(h)}},!0)}),[t,e,S,v,I,Z]),po=(0,a.useCallback)(o=>e.deleteTrashPages(o),[e]),go=(0,a.useCallback)(()=>new Promise(o=>{e.get("has_deleted_pages")?e.fetchTrashPages().then(n=>{n&&u(i=>({...i,trashPages:n})),o(n)}):o([])}),[e]),uo=(0,a.useCallback)(()=>e.emptyTrash().then(()=>{u(o=>({...o,trashPages:[]}))}),[e]),mo=(0,a.useCallback)(()=>e.loadUserTemplates().then(o=>(Array.isArray(o)&&u(n=>({...n,userTemplates:o})),o)),[e]),To=(0,a.useCallback)(()=>e.hasGlobalWidgets(),[e]),ho=(0,a.useCallback)((o={})=>t.createTemplateFromCurrentPage(o).then(n=>(n&&u(i=>{let l=Array.from(i.userTemplates);return l.unshift(n),{...i,userTemplates:l}}),n)).catch(n=>{throw n&&n.message==="permission denied"&&Z("create user template",{type:"type-more-pages"}),n}),[t,Z]),Po=(0,a.useCallback)(o=>It(o).then(()=>{u(n=>({...n,userTemplates:n.userTemplates.filter(i=>i.id!==o)}))}),[]),fo=(0,a.useCallback)((o,n)=>{let i={hyphen:"The link should not start or end with a hyphen",onlyNumbers:"The link should not consist of digits only",uriLength:"The link should be less than 128 characters long",used:"You already have a page with this link",pageNotFound:"Can't find current page"},l=e.getPage(o);if(l){let h=l.validate({uri:n,parentPage:l.get("parentPage")});return h?i[Object.keys(h)[0]]:void 0}else return i.pageNotFound},[e]),ve=(0,a.useCallback)(async()=>{let o=e.getUsedFonts({includeCustom:!0,excludeUnusedDefault:!0}),n=st.sortFontsByProvider(o);return pt(e.id,n,!0)},[e]),bo=(0,a.useCallback)(async(o={})=>{let n=e.get("user").permissions||{},i=at(se.environment.preview,e.getAllWidgets()),l=Q?.plan?.level,h;l==="personal"||l==="freelancer"?h="Please upgrade account to publish another project. Check out the pricing to learn more.":h="Please upgrade your plan to publish more than one project.";let f="Injected Code, Forms, Lottie and Shots will not work in Published project.";if(n.can_publish){if(i&&!n.can_use_e_commerce)throw new U({message:"Please upgrade your account to publish project with ecommerce.",tag:"type-publish-ecommerce"});if(e.hasCodeInjection()&&!t.me?.get("permissions")?.can_inject_code&&!o.skipWarnings)throw new U({message:f,tag:"type-code-injection",type:"warning"});if(e.hasWidgetsWithType("shots")&&!t.me?.get("permissions")?.can_use_shots&&!o.skipWarnings)throw new U({message:f,tag:"type-widget-shots",type:"warning"});if(e.hasWidgetsWithType("lottie")&&!t.me?.get("permissions")?.can_use_lottie&&!o.skipWarnings)throw new U({message:f,tag:"type-widget-lottie",type:"warning"});if(e.hasWidgetsWithType("form")&&!t.me?.get("permissions")?.can_use_forms&&!o.skipWarnings)throw new U({message:f,tag:"type-widget-shots",type:"warning"})}else{let x=n._reasons||{},b=x.can_publish&&x.can_publish.code;throw new U({message:ce()?"You can't publish another project. Your subscription has been paused":b==="reason_publish_limit"?h:"Please verify your email address to publish this project.",tag:ce()?"type-publish-paused-subcription":b==="reason_publish_limit"?"type-publish-limit":"type-publish-noemail"})}if(!A){u(x=>(V.sendAmplitudeEvent(ee.Publish,{firstTime:!e.get("is_published"),zone:`editor ${x.inPreview?"preview":"project settings"}`}),{...x,publishInProgress:!0})),o.alsoExport&&N.permissions.can_export_template&&t.exportMagAsTemplateset(o.dontRenewScreenshots);try{await ve();let x=e.get("num_id"),b=await lt(x);e.set({...e.parse(b),changed:!1}),u(k=>({...k,publishInProgress:!1}))}catch{u(b=>({...b,publishInProgress:!1,isPublishError:!0})),await new Promise(b=>setTimeout(b,5e3)),u(b=>({...b,isPublishError:!1}))}}},[t,e,Q,N,A,ve]),So=(0,a.useCallback)(async()=>{L||(u(o=>({...o,unpublishInProgress:!0})),await ct(e.get("num_id")),e.set({is_published:null,published:null,updated:null}),u(o=>({...o,unpublishInProgress:!1})))},[e,L]),xo=(0,a.useCallback)(async()=>{await dt(e.get("num_id")),window.location.reload()},[e]),K=(0,a.useCallback)(o=>t.me&&t.me.get("permissions")[o],[t]),ce=(0,a.useCallback)(()=>t.me?.get("permissions")?._reasons?.limited_usage?.code==="reason_subscription_paused",[t]),yo=(0,a.useCallback)(()=>{if(!K("can_export_pdf"))throw new U({message:g(Pe,{children:["Please upgrade your account",r("br",{}),"to export the project to PDF.",r("br",{}),r("a",{href:`${se.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"})]}),tag:"type-export-pdf"})},[K]),wo=(0,a.useCallback)(()=>{if(!K("can_export_code"))throw new U({message:g(Pe,{children:["Please upgrade your account",r("br",{}),"in order to export the source",r("br",{}),"code of your projects.",r("br",{}),r("a",{href:`${se.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"}),"."]}),tag:"type-export-code"})},[K]),ko=(0,a.useCallback)(()=>{if(!K("can_use_iframe"))throw new U({message:g(Pe,{children:["Please upgrade your account",r("br",{}),"in order to use iframe",r("br",{}),"for your projects.",r("br",{}),r("a",{href:`${se.readymag_host}/pricing`,target:"_blank",rel:"noopener noreferrer",className:"learn-more",children:"See the pricing"}),"."]}),tag:"type-iframe-code"})},[K]),Co=(0,a.useCallback)(()=>{t.openCodeEditor()},[t]),Wo=(0,a.useCallback)(()=>["ci_head","ci_css","ci_body_top","ci_body_bottom"].some(o=>!!T.project[o]),[T.project]),vo=(0,a.useCallback)(()=>e.hasCodeInjection(),[e]),Mo=(0,a.useCallback)(()=>e.hasWidgetsWithType("shots"),[e]),Oo=(0,a.useCallback)(()=>e.hasWidgetsWithType("form"),[e]),Ao=(0,a.useCallback)(o=>{u(n=>{let i=n.lastSelectedPage&&n.selectedPages.includes(n.lastSelectedPage)?n.lastSelectedPage:t.getCurrentPageId();if(i){let l=n.pagesTree.reduce((k,E)=>(k.push(E),E.children?[...k,...E.children]:k),[]),h=l.findIndex(k=>k._id===o),f=l.findIndex(k=>k._id===i),x=l.slice(Math.min(h,f),Math.max(h,f)+1).map(k=>k._id).filter(k=>!n.selectedPages.includes(k)),b=[...n.selectedPages,...x];return{...n,selectedPages:b,lastSelectedPage:o}}return{...n,lastSelectedPage:o}})},[t]),Io=(0,a.useCallback)(o=>{u(n=>{let i=[...n.selectedPages];return i.includes(o)?i.splice(i.indexOf(o),1):i.push(o),{...n,selectedPages:i,lastSelectedPage:o}})},[]),Bo=(0,a.useCallback)(()=>{u(o=>({...o,selectedPages:[]}))},[]),Do=(0,a.useCallback)(()=>{if(!J)return;let o=t.getCurrentPageId(),n=e.pages.find(i=>i.attributes._id===o);t.unlockPage(n)},[t,e,J]),_o=(0,a.useCallback)(()=>{t.updateUrl(),t.triggerPageChange()},[t]),No=(0,a.useCallback)(o=>{t.getCurrentPageId()!==o.id&&t.showWorkspace(o)},[t]),Me=(0,a.useCallback)(async o=>{let[n,i]=await Promise.all([Lt(),Et(o,{})]),{mags:l}=await W.get("/api/readymags/user");return{team:n,allProjects:l,teamworkProjects:l.filter(h=>h.num_id===o),ownedProjectTeam:n.filter(h=>h.projectNumIds.includes(o)),projectTeam:i}},[]),Ro=(0,a.useCallback)((o,n)=>{u(i=>({...i,team:o,ownedProjectTeam:o.filter(l=>l.projectNumIds.includes(n))}))},[]),Lo=(0,a.useCallback)(o=>{let n=o||(t.me?t.me.get("_id"):"");return Mt(n)},[t]),Eo=(0,a.useCallback)(o=>{let n=o||(t.me?t.me.get("_id"):"");return Ot(n)},[t]),Uo=(0,a.useCallback)(o=>gt({...o,numId:o.numId?o.numId:e.get("num_id")}).then(()=>{let{isPrivate:n,isPrivatePages:i,password:l}=o;e.set({is_private:n,isPrivatePages:i,pass:l!==void 0?l:e.get("pass")})}),[e]),Ho=(0,a.useCallback)(({pageId:o,isPrivate:n,updateAll:i=!1})=>{let l=(f,x,b)=>f.map(k=>((i||k._id===x)&&(k.isPrivate=b),k)),h=i?T.pages.map(f=>f._id):[o];for(let f of h)if(typeof f<"u"){let x=We(f,{isPrivate:n},{patch:!0});x.done(()=>{x&&!(x instanceof Error)&&u(b=>{let k=l(b.pages,f,n),E=b.pagesTree.map(G=>({...G,isPrivate:i||G._id===f?n:G.isPrivate,children:G.children?l(G.children,f,n):G.children}));return{...b,pages:k,pagesTree:E,pagesParams:xe(E,b.pagesParams)}})})}},[We,T,u]),Go=(0,a.useCallback)(o=>{let n=N.permissions.viewer_opts_overrides||{},l={...e.get("opts"),...o==="phone_portrait"?e.get("viewport_phone_portrait")?.opts||{}:o==="tablet_portrait"?e.get("viewport_tablet_portrait")?.opts||{}:{},...n};return{...l,...e.get("is_private")&&{sharebutton:!1},...!l.menubutton&&{projectinfo:!1}}},[e,N]),pe=(0,a.useCallback)((o,n,i)=>{let l=$e.default.intersection(Object.keys(o),et).length>0,h=i==="phone_portrait"||i==="tablet_portrait",f=l&&h?i:"default",x=Object.keys(o)[0],b={...o,...o.menubutton===!1&&{projectinfo:!1}};if(["arrows","menubutton","projectinfo","sharebutton","pagecounter","controlsontop","controlsontop","branding","slidein","scalableviewer"].includes(x)&&x==="scalableviewer"&&V.sendAmplitudeEvent(ee.SettingsViewer,{settingsType:"scale layout"}),f==="phone_portrait"||f==="tablet_portrait"){let k=`viewport_${f}`,E={...e.get(k)?.opts||{},...b};return e.set(k,{...e.get(k)||{},opts:E},n),Ht(e.get("num_id"),E,f)}else{let k={...e.get("opts"),...b};return e.set("opts",k,n),Ht(e.get("num_id"),k,f)}},[e,w]),Fo=(0,a.useCallback)((o,n)=>Dt({numId:P,domainName:o,domainSource:n}).then(i=>(ne({last_checked_domain:o,last_checked_domain_source:n},{silent:!0}),i)),[P,ne]),Vo=(0,a.useCallback)(o=>_t(P,o).then(()=>{ne({domain:o,domainStatus:"on"})}),[P,ne]),jo=(0,a.useCallback)(()=>Nt(P).then(o=>(de("domain"),de("domainStatus"),o)),[e,O,P,w,de,pe]),Oe=(0,a.useCallback)((o,n)=>{o&&u(i=>{let l=o.pages.models.map(f=>m(f)).filter(f=>n.includes(f._id));l.sort((f,x)=>f.num-x.num);let h=ye(l,null);return{...i,project:o.attributes,pages:l,pagesTree:h,pagesParams:xe(h,i.pagesParams)}})},[m]),Ae=(0,a.useCallback)(o=>{o&&u(n=>({...n,project:o.attributes}))},[]),Ie=(0,a.useCallback)((o,n,i)=>{o&&(o.changed&&!i?.socketUpdate&&(o.changed.num||o.changed.parentPage)||u(l=>{let h=Ke(o,l.pages);h.sort((x,b)=>x.num-b.num);let f=ye(h,null);return{...l,pages:h,pagesTree:f,pagesParams:xe(f,l.pagesParams)}}))},[Ke]),Be=(0,a.useCallback)(o=>{o&&u(n=>{let i=Array.from(n.trashPages);return i.unshift(o.attributes),{...n,trashPages:i}})},[]),De=(0,a.useCallback)(o=>{o&&u(n=>{let i=Array.from(n.trashPages),l=i.findIndex(h=>h._id===o.get("_id"));return l>-1&&i.splice(l,1),{...n,trashPages:i}})},[]);(0,a.useEffect)(()=>{function o(){Me(e.attributes.num_id).then(n=>{u(i=>({...i,...n}))})}return o(),e.on(Gt(),Ae),e.on("change:pids",Oe),e.pages.on(Ft(),Ie),e.trashPages.on("add",Be),e.trashPages.on("remove",De),M.on("refreshTeamworkData",o),()=>{e.off(Gt(),Ae),e.off("change:pids",Oe),e.pages.off(Ft(),Ie),e.trashPages.off("add",Be),e.trashPages.off("remove",De),M.off("refreshTeamworkData",o)}},[e,Ae,Oe,Be,De,Ie,Me]);let _e=(0,a.useCallback)(o=>Xe(o),[]);(0,a.useEffect)(()=>(t.on("togglePreview",_e),()=>{t.off("togglePreview",_e)}),[t,_e]);let Ne=(0,a.useCallback)(o=>{let n=o.getPageNum(),i=o.getPageId();n&&i&&u(l=>({...l,currentPageNum:n,currentPageId:i}))},[]);(0,a.useEffect)(()=>(t.on("pageChange",Ne),()=>{t.off("pageChange",Ne)}),[t,Ne]);let ge=(0,a.useCallback)(o=>{u(n=>({...n,currentPageNum:o.num,currentPageId:o._id}))},[]);(0,a.useEffect)(()=>(T.inPreview?t.on("previewPageChange",ge):t.off("previewPageChange",ge),()=>{t.off("previewPageChange",ge)}),[T.inPreview,t,ge]);let Re=(0,a.useCallback)((o,n)=>{u(i=>({...i,lockedPages:{...i.lockedPages,[o]:n}}))},[]),Le=(0,a.useCallback)(o=>{u(n=>{let{[o]:i,...l}=n.lockedPages;return{...n,lockedPages:l}})},[]),Ee=(0,a.useCallback)(({list:o})=>{u(n=>({...n,collaborators:o||[]}))},[]);(0,a.useEffect)(()=>(M.on("page:locked",Re),M.on("page:unlocked",Le),M.on("sockets:connect",Ee),()=>{M.off("page:locked",Re),M.off("page:unlocked",Le),M.off("sockets:connect",Ee)}),[Re,Le,Ee]),(0,a.useEffect)(()=>{w.branding===void 0&&pe({branding:w.endpage})},[w,pe]);let zo=(0,a.useCallback)(o=>{let n=T.project.user.permissions.viewer_opts_overrides||{};return{disabled:[...Object.keys(n),...o?.menubutton?[]:["projectinfo"],...T.project.is_private?["sharebutton"]:[],...T.project.user.permissions.must_show_branding?["branding"]:[]],permissionOverrides:n}},[T.project]),$o=(0,a.useCallback)(async(o,n)=>{await mt(o,n),u(i=>({...i,project:{...i.project,allow_iframe_embed:o==="allow"}}))},[]),qo={projectSet:ne,projectUnset:de,projectSave:Zt,pageSet:eo,pageUnset:to,pageSave:We,setCurrentPageNum:oo,setInPreview:Xe,setPageCollapse:no,addNewPage:ro,duplicatePage:io,renewLastScreenshot:so,updatePageScreenshot:re,restorePage:co,saveOrder:ao,deletePage:lo,deletePagesFromTrash:po,updateTrash:go,emptyTrash:uo,getUserTemplates:mo,hasGlobalWidgets:To,createTemplateFromCurrentPage:ho,deleteUserTemplate:Po,validatePageUri:fo,updateUsedFonts:ve,publishWithNotice:bo,unpublish:So,restoreToPublished:xo,checkPDFExportPermission:yo,checkHTMLExportPermission:wo,checkIFrameExportPermission:ko,openCodeEditor:Co,hasProjectCode:Wo,hasCustomCode:vo,hasShots:Mo,hasForms:Oo,hasPermission:K,isSubscriptionPaused:ce,selectPage:Io,selectPagesRange:Ao,deselectPages:Bo,takeOverCurrentPage:Do,updateUrl:_o,changeWorkspace:No,loadTeamworkData:Me,updateTeam:Ro,getProjectOptions:Go,setProjectOptions:pe,loadUserProjectsLinks:Lo,getDomainsAmount:Eo,setPrivacy:Uo,setPageIsPrivate:Ho,checkDomain:Fo,mapDomain:Vo,unmapDomain:jo,getProjectPermissionsOverrides:zo,toggleAllowIframeEmbed:$o};return r(Vt.Provider,{value:{...T,...qo,projectMag:e},children:p})}var a,$e,Vt,Ht,ye,xe,Gt,Ft,ci,jt=_(()=>{"use strict";a=ue(Ue());He();$e=ue(Jo());Wt();te();Zo();on();nn();Yo();Te();Ko();vt();Xo();rn();At();Bt();Rt();Ut();rt();ze();z();Vt=(0,a.createContext)({}),Ht=$e.default.throttle(ut,300),ye=(e,t)=>{let s=[];for(let p in e)if(e[p].parentPage===t){let m=ye(e,e[p]._id),T=Object.assign({},e[p]);m.length&&(T.children=m),s.push(T)}else if(e[p].parentPage===void 0){let m=Object.assign({},e[p]);s.push(m)}return s},xe=(e,t)=>{let s={};return e.forEach((p,m)=>{if(s[p._id]={collapsed:t[p._id]?t[p._id].collapsed:!0,viewNum:m+1,uri:p.uri?p.uri:(m+1).toString(),children:[]},p.children){let T=[];p.children.forEach((u,S)=>{T.push(u._id),s[u._id]={collapsed:t[u._id]?t[u._id].collapsed:!0,viewNum:S+1,uri:u.uri?u.uri:(S+1).toString(),children:[],parentId:p._id}}),s[p._id].children=T}}),s},Gt=()=>["title","description","user","folder","uri","domain","domainStatus","last_checked_domain","has_deleted_pages","master_share_pid","changed","is_published","is_private","isPrivatePages","pass","pass_bg","published","opts","viewport_phone_portrait","viewport_tablet_portrait"].map(t=>`change:${t}`).join(" "),Ft=()=>["num","parentPage","screenshot","viewport_phone_portrait","viewport_tablet_portrait","title","uri","seo","hidden","custom_shares"].map(t=>`change:${t}`).join(" ");ci=()=>(0,a.useContext)(Vt)});var qe=_(()=>{"use strict"});function ki({magModel:e,router:t,children:s}){let[p,m]=(0,D.useReducer)(Pn,{router:t,magModel:e},Tn),T=(0,D.useCallback)(({pageNumber:P,scrollTop:O}={})=>{let R=t.workspace?.page.get("num");window.RM.constructorRouter.togglePreview({pageNumber:P??R,scrollTop:O}),p.inPreview||window.RM.constructorRouter.trigger("notice:triggerEduTipClose")},[t]);(0,D.useEffect)(()=>{let P=()=>{m({type:"togglePreview"})};return window.RM.constructorRouter.unbindGlobalKeyPress("p",T),window.RM.constructorRouter.bindGlobalKeyPress({key:"p",handler:T}),p.inPreview?(window.RM.constructorRouter.off("previewOpen",P),window.RM.constructorRouter.on("previewClose",P)):(window.RM.constructorRouter.off("previewClose",P),window.RM.constructorRouter.on("previewOpen",P)),()=>{window.RM.constructorRouter.unbindGlobalKeyPress("p",T),window.RM.constructorRouter.off("previewOpen",P),window.RM.constructorRouter.off("previewClose",P)}},[p.inPreview]),(0,D.useEffect)(()=>{localStorage.setItem(zt,JSON.stringify({gridSize:p.gridSize}))},[p.gridSize]);let u=(0,D.useCallback)(()=>{m({type:"openMagMenu"})},[]),S=(0,D.useCallback)(()=>{m({type:"closeMagMenu"})},[]),v=(0,D.useCallback)((P,O)=>{O.viewertype!==p.magMenuOrientation&&m({type:"setMagMenuOrientation",orientation:O.viewertype}),O.menubutton!==p.magMenuOn&&m({type:"setMagMenu",isOn:O.menubutton}),O.controlsontop!==p.controlsOnTop&&m({type:"setControlsOnTop",onTop:O.controlsontop})},[p.magMenuOrientation,p.magMenuOn,p.controlsOnTop]);(0,D.useEffect)(()=>(M.on("magMenu:open",u),M.on("magMenu:close",S),()=>{M.off("magMenu:open",u),M.off("magMenu:close",S)}),[u,S]),(0,D.useEffect)(()=>(M.listenTo(e,"change:opts",v),()=>{M.stopListening(e,"change:opts",v)}),[v]);let I=(0,D.useCallback)(()=>{m({type:"setReadyToPublish",ready:!0})},[]);(0,D.useEffect)(()=>(M.listenTo(t,"previewMag:load:success",I),()=>{M.stopListening(t,"previewMag:load:success",I)}),[I]);let N=()=>{m({type:"toggleCartSidebarState"})};(0,D.useEffect)(()=>(M.on("ecommerce:cartsidebar:visibility:changed",N),()=>{M.off("ecommerce:cartsidebar:visibility:changed",N)}),[N]);let w=(P,O)=>new Promise((R,H)=>{let A=e.getPage(P);A||R(null),A.save({hidden:O}).done(L=>{R(L)}).fail(L=>{H(L.responseJSON)})});return r(we.Provider,{value:{...p,dispatch:m,setPageVisibility:w,togglePreview:T},children:s})}var D,we,zt,$t,Tn,hn,Pn,Ci,qt=_(()=>{"use strict";D=ue(Ue());qe();Te();z();we=(0,D.createContext)({}),zt="rm_pageSettings",$t={};try{let e=localStorage.getItem(zt);$t=JSON.parse(e||"{}")}catch{}Tn=({router:e,magModel:t})=>({inPreview:!!e.previewMode,isMagMenuOpen:!1,isTrashOpened:!1,isPageSettingsOpened:!1,isPrivatePagesOpened:!1,isHelpPopupOpened:!1,isUserTemplatesModalShown:!1,isRmTemplatesModalShown:!1,isPageActionsPopupOpenedFor:!1,gridSize:$t.gridSize||0,selectedPages:{},isDragging:!1,magMenuOrientation:t.attributes.opts.viewertype,magMenuOn:t.attributes.opts.menubutton,controlsOnTop:t.attributes.opts.controlsontop,readyToPublish:!0,addingPage:!1,isTeamworkModalOpened:!1,exportAsTemlate:!1,dontRenewScreenshots:!1,showTourOnOpen:!!e.showTourOnOpen,helpTourIsFinished:!!e.helpTourIsFinished,isCartSidebarOpened:!1,showTips:!!e.me?.attributes.constructor_show_tips,masterSharePidIsChanging:!1}),hn=(e,t)=>{let s={...e.selectedPages};return s[t]?delete s[t]:s[t]=!0,s},Pn=(e,t)=>{switch(t.type){case"togglePreview":{let s=!e.inPreview;return{...e,inPreview:s,readyToPublish:s?!1:e.readyToPublish,notice:void 0}}case"openMagMenu":return{...e,isMagMenuOpen:!0};case"closeMagMenu":return{...e,isMagMenuOpen:!1};case"setMagMenuOrientation":return{...e,magMenuOrientation:t.orientation};case"setMagMenu":return{...e,magMenuOn:t.isOn};case"setControlsOnTop":return{...e,controlsOnTop:t.onTop};case"toggleTrash":return{...e,isTrashOpened:!e.isTrashOpened};case"togglePageSettings":return{...e,isPageSettingsOpened:!e.isPageSettingsOpened,isHelpPanelOpen:!1};case"togglePrivatePages":return{...e,isPrivatePagesOpened:t.payload?!0:!e.isPrivatePagesOpened,privatePageSelected:t.payload};case"toggleHelpPopup":return{...e,isHelpPopupOpened:!e.isHelpPopupOpened};case"toggleHelpTourIsFinished":return{...e,helpTourIsFinished:t.finished};case"toggleUserTemplatesModal":return{...e,isUserTemplatesModalShown:!e.isUserTemplatesModalShown};case"toggleRmTemplatesModal":return{...e,isRmTemplatesModalShown:!e.isRmTemplatesModalShown};case"setPageActionsPopup":return{...e,isPageActionsPopupOpenedFor:t.payload};case"toggleGridSize":return{...e,gridSize:e.gridSize===0?1:0};case"togglePageSelection":return{...e,selectedPages:hn(e,t.payload)};case"setDragging":return{...e,isDragging:t.payload};case"setReadyToPublish":return{...e,readyToPublish:t.ready};case"setAddingPage":return{...e,addingPage:t.inProgress};case"toggleTeamworkModal":return{...e,isTeamworkModalOpened:t.payload};case"toggleExportAsTemlate":return{...e,exportAsTemlate:!e.exportAsTemlate};case"toggleDontRenewScreenshots":return{...e,dontRenewScreenshots:!e.dontRenewScreenshots};case"toggleShowTourOnOpen":return{...e,showTourOnOpen:t.showOnOpen};case"toggleCartSidebarState":return{...e,isCartSidebarOpened:!e.isCartSidebarOpened};case"toggleShowTips":return{...e,showTips:!e.showTips};case"toggleMasterSharePidChanging":return{...e,masterSharePidIsChanging:!e.masterSharePidIsChanging};default:return e}};Ci=()=>(0,D.useContext)(we)});var Jt=_(()=>{"use strict";jt();qt();qe()});function Hi(){let e=Wn(),t=(0,le.useContext)(we);(0,le.useEffect)(()=>{typeof window<"u"&&window.RM&&q({...e,router:window.RM.constructorRouter,isSmartTip:Kt})},[]);let[{router:s,isSmartTip:p}]=Cn(),m=(w,P={})=>{be()||(P.closeByTimer&&(delete P.closeByTimer,setTimeout(()=>{q(e.visible?{...e,visible:!1}:e)},Yt)),q({...e,...P,message:w,needShowHelpIcon:!1,visible:!0,isTipType:!1}))},T=w=>{q({...e,message:w})},u=(w,P={})=>{if(be()||!s||!s.me||!t.showTips||p&&!Xt(w)||!p&&Xt(w))return;let R=(s.me.get("edu_tips_state")||{})[w]||0,H=()=>{e.visible&&(ke(w,2,s),q({...e,visible:!1}))};if(P.closeByTimer)delete P.closeByTimer,setTimeout(H,Yt);else if(p){setTimeout(H,fn);let A=Sn(w);A&&ke(A,3,s)}switch(R){case 3:break;case 2:if(P.showOnce)break;q({...e,visible:!0,message:w,canBeClosed:!0,needShowHelpIcon:!0,isTipType:!0,standAlone:P.standAlone});break;case 0:{if(ke(w,2,s),bn.includes(w)&&M.trigger("tips:show",w),p){let A=wn(w);A&&V.sendAmplitudeEvent(ee.EditorTips2,{tip:A})}else{let A=yn(w);A&&V.sendAmplitudeEvent(ee.EditorTips,{tip:A})}q({...e,visible:!0,message:w,canBeClosed:!0,needShowHelpIcon:!0,isTipType:!0,standAlone:P.standAlone})}}},S=()=>{e.visible&&e.message&&(ke(e.message,3,s),q({...e,visible:!1}))},v=()=>{e.visible&&q({...e,visible:!1})},I=(w,P)=>{if(!s||!s.me||!s.me.get("constructor_show_tips")||be()||!t.showTips)return;let O=xn(w,P,s),R=s.me.get("edu_tips_state")||{},H=(A,L)=>{if(!A||!L)return!1;for(let J in L)if(L.hasOwnProperty(J)){let Q=A?.[J],X=L[J];if(typeof X=="number"&&typeof Q=="number"&&X>Q||X!==Q)return!1}return!0};for(let A in Je)if(Je.hasOwnProperty(A)&&!R[A]){let L=Je[A];(typeof L=="function"?L(O):H(O,L))&&u(A,{showOnce:!0})}},N=({id:w,color:P})=>{if(!p||!s||!s.me||!Kt)return;let O=s.me.get("behavior_metrics")||{},R=O.triggeredColors||{};if(w in R)R[w]=P;else{for(let H of Object.values(R))H===P&&u("eduTipUseColorPalette");R[w]=P,O.triggeredColors=R,s.me.save({behavior_metrics:O},{patch:!0})}};return(0,le.useEffect)(()=>{if(s)return s.on("notice:show",m),s.on("notice:hide",v),s.on("notice:triggerEduTip",u),s.on("notice:triggerEduTipClose",S),s.on("notice:triggerMetrics",I),s.on("notice:triggerColorMetrics",N),()=>{s.off("notice:show",m),s.off("notice:hide",v),s.off("notice:triggerEduTip",u),s.off("notice:triggerEduTipClose",S),s.off("notice:triggerMetrics",I),s.off("notice:triggerColorMetrics",N)}},[s,e]),{showNotice:m,setNoticeMessage:T,triggerEduTip:u,triggerEduTipClose:S,hideNotice:v,triggerMetrics:I,triggerColorMetrics:N}}var le,Kt,Je,Yt,fn,bn,Qt,Sn,ke,xn,yn,wn,Xt,kn,Cn,q,Wn,ze=_(()=>{"use strict";le=ue(Ue());He();ot();Te();rt();Ct();Jt();Qo();Kt=Ze("constructor.smartTips"),Je={eduTipUseViewportsIcon:{viewportIconHovered:!0},eduTipOnDeleteMobileWidget:{widgetDeletedOnMobile:!0},eduTipUseBundleDragTriangle:{bundleDragHovered:!0},eduTipUseShortcutToChangeSizes:{widgetSlightlyResized:!0},eduTipUseShortcutToMoveText:{countTextWidgetCreated:9},eduTipUseShortcutToCopyAnimation:{countAnimatedWidgetCreated:2},eduTipUseShortcutToEnableGuides:{countWidgetCreated:3,guidesTurnOn:void 0},eduTipUseShortcutToEnableSizes:{widgetResized:!0,sizesToolTurnOn:void 0},eduTipUseFix:{countWidgetCreated:10,fixedWidgetUsed:void 0},eduTipUseAbovePages:{countFixedWidgetCreated:3,onAllPagesWidgetUsed:void 0},eduTipUsePlusIcon:{helpTourSkipped:!0},eduTipUseWidgetSettings:{helpTourSkipped:!0,countWidgetCreated:1},eduTipUseBlocks:{secondWidgetMoved:!0},eduTipUseTextStylesWidget:{templateUsed:void 0,countTextWidgetCreated:3},eduTipUseTextStylesControl:{templateUsed:void 0,textWidgetCopied:!0},eduTipUseColorPalette:{sameColorUsed:!0,templateUsed:void 0},eduTipUseArrangeControl:{mobileGroupSelected:!0},eduTipUseGroupEditing:{multipleWidgetsOfSameTypeSelected:!0}},Yt=6e3,fn=15e3,bn=["eduTipUseWidgetSettings","eduTipUseTextStylesControl","eduTipUseColorPalette","eduTipUseArrangeControl"],Qt=[["eduTipUseTextStylesWidget","eduTipUseTextStylesControl"]],Sn=e=>{for(let t=0;t<Qt.length;t++){let s=Qt[t];if(s.includes(e))return s.find(p=>p!==e)}return!1},ke=(e,t,s)=>{let p=s?.me;if(!p)return;let m=p.get("edu_tips_state")||{};m[e]=t,p.save({edu_tips_state:m},{patch:!0})},xn=(e,t,s)=>{let p=s?.me;if(!p)return{};let m=p.get("behavior_metrics")||{},T=e.includes("count"),u=m[e];return T&&t===void 0?m[e]=typeof u=="number"?u+1:1:m[e]=t===void 0?!0:t,p.save({behavior_metrics:m},{patch:!0}),m},yn=e=>{switch(e){case"eduTipUseCommentsMode":return"comments for collaborators";case"eduTipUseShortcutToEnableGuides":return"guides shortcut";default:return!1}},wn=e=>{switch(e){case"eduTipUsePlusIcon":return"plus icon";case"eduTipUseWidgetSettings":return"widget settings";case"eduTipUseBlocks":return"distance between blocks";case"eduTipUseNavigation":return"horizontal vertical navigation";case"eduTipUseColorPalette":return"palette";case"eduTipUseTextStylesWidget":return"text styles";case"eduTipUseTextStylesControl":return"text styles";case"eduTipUseOnboarding":return"beginners onboarding kit";case"eduTipUseArrangeControl":return"arrange";default:return!1}},Xt=e=>!!Object.values(nt).includes(e),kn={message:"",visible:!1,canBeClosed:!0,needShowHelpIcon:!1,isTipType:!1,router:null},[Cn,q,Wn]=he(kn)});export{bt as a,gn as b,un as c,Wt as d,U as e,vt as f,Sr as g,At as h,wr as i,kr as j,Cr as k,Bt as l,Mr as m,Or as n,Rt as o,Br as p,Dr as q,_r as r,Nr as s,Ut as t,Vt as u,di as v,ci as w,we as x,ki as y,Ci as z,Jt as A,bn as B,Cn as C,Wn as D,Hi as E,ze as F,$ as G,lr as H,kt as I,dr as J,cr as K,cn as L,pr as M,gr as N,ur as O,mr as P,be as Q,Ct as R};
